!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("react"),require("braft-utils"),require("draft-js"),require("immutable"),require("braft-convert"),require("react-dom"),require("braft-finder"),require("draftjs-utils"));else if("function"==typeof define&&define.amd)define(["react","braft-utils","draft-js","immutable","braft-convert","react-dom","braft-finder","draftjs-utils"],t);else{var n="object"==typeof exports?t(require("react"),require("braft-utils"),require("draft-js"),require("immutable"),require("braft-convert"),require("react-dom"),require("braft-finder"),require("draftjs-utils")):t(e.react,e["braft-utils"],e["draft-js"],e.immutable,e["braft-convert"],e["react-dom"],e["braft-finder"],e["draftjs-utils"]);for(var o in n)("object"==typeof exports?exports:e)[o]=n[o]}}(window,function(e,t,n,o,r,i,a,l){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=39)}([function(t,n){t.exports=e},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,n){e.exports=t},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){var o=n(2);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}},function(e,t){e.exports=n},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}},function(e,t,n){var o=n(15),r=n(1);e.exports=function(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?r(e):t}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var o=n(26);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){var o=n(27),r=n(28),i=n(29);e.exports=function(e){return o(e)||r(e)||i()}},function(e,t){e.exports=o},function(e,t){e.exports=r},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=o=function(e){return n(e)}:e.exports=o=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},o(t)}e.exports=o},function(e,t){e.exports=i},function(e,t){e.exports=a},function(e,t,n){var o=n(13);function r(e){this.decorators=o.List(e)}r.prototype.getDecorations=function(e){var t=Array(e.getText().length).fill(null);return this.decorators.forEach(function(n,o){n.getDecorations(e).forEach(function(e,n){e&&(e=o+"-"+e,t[n]=e)})}),o.List(t)},r.prototype.getComponentForKey=function(e){return this.getDecoratorForKey(e).getComponentForKey(this.getInnerKey(e))},r.prototype.getPropsForKey=function(e){return this.getDecoratorForKey(e).getPropsForKey(this.getInnerKey(e))},r.prototype.getDecoratorForKey=function(e){var t=e.split("-"),n=Number(t[0]);return this.decorators.get(n)},r.prototype.getInnerKey=function(e){return e.split("-").slice(1).join("-")},e.exports=r},function(e,t,n){"use strict";var o=n(13),r=o.Map,i=o.OrderedSet,a=o.Record,l=i(),s={style:l,entity:null},c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getStyle=function(){return this.get("style")},t.prototype.getEntity=function(){return this.get("entity")},t.prototype.hasStyle=function(e){return this.getStyle().includes(e)},t.applyStyle=function(e,n){var o=e.set("style",e.getStyle().add(n));return t.create(o)},t.removeStyle=function(e,n){var o=e.set("style",e.getStyle().remove(n));return t.create(o)},t.applyEntity=function(e,n){var o=e.getEntity()===n?e:e.set("entity",n);return t.create(o)},t.create=function(e){if(!e)return d;var n=r({style:l,entity:null}).merge(e),o=u.get(n);if(o)return o;var i=new t(n);return u=u.set(n,i),i},t}(a(s)),d=new c,u=r([[r(s),d]]);c.EMPTY=d,e.exports=c},function(e,t,n){"use strict";e.exports=function(e,t,n,o){if(e.size){var r=0;e.reduce(function(e,i,a){return t(e,i)||(n(e)&&o(r,a),r=a),i}),n(e.last())&&o(r,e.count())}}},function(e,t,n){var o=n(25);e.exports=function(e,t){if(null==e)return{};var n,r,i=o(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},function(e,t,n){"use strict";var o=n(30);e.exports=function(e){var t=e.getSelection();return t.isCollapsed()?null:o(e.getCurrentContent(),t)}},function(e,t){e.exports=l},function(e,t,n){var o=n(36),r=n(37),i=n(38);e.exports=function(e,t){return o(e)||r(e,t)||i()}},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}},function(e,t){function n(t,o){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,o)}e.exports=n},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t,n){"use strict";var o=n(31),r=n(34);e.exports=function(e,t){var n=t.getStartKey(),i=t.getStartOffset(),a=t.getEndKey(),l=t.getEndOffset(),s=r(e,t).getBlockMap(),c=s.keySeq(),d=c.indexOf(n),u=c.indexOf(a)+1;return o(s.slice(d,u).map(function(e,t){var o=e.getText(),r=e.getCharacterList();return n===a?e.merge({text:o.slice(i,l),characterList:r.slice(i,l)}):t===n?e.merge({text:o.slice(i),characterList:r.slice(i)}):t===a?e.merge({text:o.slice(0,l),characterList:r.slice(0,l)}):e}))}},function(e,t,n){"use strict";var o=n(32),r=n(13),i=n(33),a=r.OrderedMap;e.exports=function(e){return e.first()instanceof o?function(e){var t={},n=void 0;return a(e.withMutations(function(e){e.forEach(function(o,r){var a=o.getKey(),l=o.getNextSiblingKey(),s=o.getPrevSiblingKey(),c=o.getChildKeys(),d=o.getParentKey(),u=i();if(t[a]=u,l&&(e.get(l)?e.setIn([l,"prevSibling"],u):e.setIn([a,"nextSibling"],null)),s&&(e.get(s)?e.setIn([s,"nextSibling"],u):e.setIn([a,"prevSibling"],null)),d&&e.get(d)){var p=e.get(d).getChildKeys();e.setIn([d,"children"],p.set(p.indexOf(o.getKey()),u))}else e.setIn([a,"parent"],null),n&&(e.setIn([n.getKey(),"nextSibling"],u),e.setIn([a,"prevSibling"],t[n.getKey()])),n=e.get(a);c.forEach(function(t){e.get(t)?e.setIn([t,"parent"],u):e.setIn([a,"children"],o.getChildKeys().filter(function(e){return e!==t}))})})}).toArray().map(function(e){return[t[e.getKey()],e.set("key",t[e.getKey()])]}))}(e):function(e){return a(e.toArray().map(function(e){var t=i();return[t,e.set("key",t)]}))}(e)}},function(e,t,n){"use strict";var o=n(19),r=n(13),i=n(20),a=r.List,l=r.Map,s=r.OrderedSet,c=r.Record,d=r.Repeat,u=s(),p={parent:null,characterList:a(),data:l(),depth:0,key:"",text:"",type:"unstyled",children:a(),prevSibling:null,nextSibling:null},f=function(e,t){return e.getStyle()===t.getStyle()},m=function(e,t){return e.getEntity()===t.getEntity()},h=function(e){if(!e)return e;var t=e.characterList,n=e.text;return n&&!t&&(e.characterList=a(d(o.EMPTY,n.length))),e},g=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,h(n)))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getKey=function(){return this.get("key")},t.prototype.getType=function(){return this.get("type")},t.prototype.getText=function(){return this.get("text")},t.prototype.getCharacterList=function(){return this.get("characterList")},t.prototype.getLength=function(){return this.getText().length},t.prototype.getDepth=function(){return this.get("depth")},t.prototype.getData=function(){return this.get("data")},t.prototype.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():u},t.prototype.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},t.prototype.getChildKeys=function(){return this.get("children")},t.prototype.getParentKey=function(){return this.get("parent")},t.prototype.getPrevSiblingKey=function(){return this.get("prevSibling")},t.prototype.getNextSiblingKey=function(){return this.get("nextSibling")},t.prototype.findStyleRanges=function(e,t){i(this.getCharacterList(),f,e,t)},t.prototype.findEntityRanges=function(e,t){i(this.getCharacterList(),m,e,t)},t}(c(p));e.exports=g},function(e,t,n){"use strict";var o={},r=Math.pow(2,24);e.exports=function(){for(var e=void 0;void 0===e||o.hasOwnProperty(e)||!isNaN(+e);)e=Math.floor(Math.random()*r).toString(32);return o[e]=!0,e}},function(e,t,n){"use strict";var o=n(19),r=n(20),i=n(35);function a(e,t,n){var a=t.getCharacterList(),l=n>0?a.get(n-1):void 0,s=n<a.count()?a.get(n):void 0,c=l?l.getEntity():void 0,d=s?s.getEntity():void 0;if(d&&d===c&&"MUTABLE"!==e.__get(d).getMutability()){for(var u,p=function(e,t,n){var o;return r(e,function(e,t){return e.getEntity()===t.getEntity()},function(e){return e.getEntity()===t},function(e,t){e<=n&&t>=n&&(o={start:e,end:t})}),"object"!=typeof o&&i(!1),o}(a,d,n),f=p.start,m=p.end;f<m;)u=a.get(f),a=a.set(f,o.applyEntity(u,null)),f++;return t.set("characterList",a)}return t}e.exports=function(e,t){var n=e.getBlockMap(),o=e.getEntityMap(),r={},i=t.getStartKey(),l=t.getStartOffset(),s=n.get(i),c=a(o,s,l);c!==s&&(r[i]=c);var d=t.getEndKey(),u=t.getEndOffset(),p=n.get(d);i===d&&(p=c);var f=a(o,p,u);return f!==p&&(r[d]=f),Object.keys(r).length?e.merge({blockMap:n.merge(r),selectionAfter:t}):e.set("selectionAfter",t)}},function(e,t,n){"use strict";var o=function(e){};e.exports=function(e,t,n,r,i,a,l,s){if(o(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,r,i,a,l,s],u=0;(c=new Error(t.replace(/%s/g,function(){return d[u++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(o=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==l.return||l.return()}finally{if(r)throw i}}return n}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){"use strict";n.r(t);var o=n(15),r=n.n(o),i=n(5),a=n.n(i),l=n(21),s=n.n(l),c=n(4),d=n.n(c),u=n(7),p=n.n(u),f=n(8),m=n.n(f),h=n(9),g=n.n(h),y=n(1),v=n.n(y),b=n(10),k=n.n(b),E=n(2),C=n.n(E),S=n(12),x=n.n(S),w=(n(40),n(42),n(0)),I=n.n(w),N={en:{base:{remove:"Remove",cancel:"Cancel",confirm:"Confirm",inert:"Insert",width:"Width",height:"Height"},controls:{clear:"Clear",undo:"Undo",redo:"Redo",fontSize:"Font Size",color:"Color",textColor:"Text",tempColors:"Temp Colors",backgroundColor:"Background",bold:"Bold",lineHeight:"Line Height",letterSpacing:"Letter Spacing",textIndent:"Text Indent",increaseIndent:"Increase Indent",decreaseIndent:"Decrease Indent",italic:"Italic",underline:"Underline",strikeThrough:"Strike Through",fontFamily:"Font Family",textAlign:"Text Alignment",alignLeft:"Left Alignment",alignCenter:"Center Alignment",alignRight:"Right Alignment",alignJustify:"Justify Alignment",floatLeft:"Left Float",floatRight:"Right Float",superScript:"Super Script",subScript:"Sub Script",removeStyles:"Remove Styles",headings:"Headings",header:"Header",normal:"Normal",orderedList:"Ordered List",unorderedList:"Unordered List",blockQuote:"Quote",code:"Code",link:"Link",unlink:"Unlink",hr:"Horizontal Line",media:"Media",mediaLibirary:"Media Library",emoji:"Emoji",fullscreen:"Fullscreen",exitFullscreen:"Exit Fullscreen"},linkEditor:{textInputPlaceHolder:"Input link text",linkInputPlaceHolder:"Input link URL",inputWithEnterPlaceHolder:"Input link URL and press Enter",openInNewWindow:"Open in new window",removeLink:"Remove Link"},audioPlayer:{title:"Play Audio"},videoPlayer:{title:"Play Video",embedTitle:"Embed Media"},media:{image:"Image",video:"Video",audio:"Audio",embed:"Embed"}},zh:{base:{remove:"删除",cancel:"取消",confirm:"确定",inert:"插入",width:"宽度",height:"高度"},controls:{clear:"清除内容",undo:"撤销",redo:"重做",fontSize:"字号",lineHeight:"行高",letterSpacing:"字间距",textIndent:"段落缩进",increaseIndent:"增加缩进",decreaseIndent:"减少缩进",border:"边框",color:"颜色",textColor:"文字颜色",backgroundColor:"背景颜色",tempColors:"临时颜色",bold:"加粗",italic:"斜体",underline:"下划线",strikeThrough:"删除线",fontFamily:"字体",textAlign:"文本对齐",alignLeft:"居左",alignCenter:"居中",alignRight:"居右",alignJustify:"两端",floatLeft:"左浮动",floatRight:"右浮动",superScript:"上标",subScript:"下标",removeStyles:"清除样式",headings:"标题",header:"标题",normal:"常规",orderedList:"有序列表",unorderedList:"无序列表",blockQuote:"引用",code:"代码",link:"链接",unlink:"清除链接",hr:"水平线",media:"媒体",mediaLibirary:"媒体库",emoji:"小表情",fullscreen:"全屏",exitFullscreen:"退出全屏"},linkEditor:{textInputPlaceHolder:"输入链接文字",linkInputPlaceHolder:"输入链接地址",inputWithEnterPlaceHolder:"输入链接地址并回车",openInNewWindow:"在新窗口打开",removeLink:"移除链接"},audioPlayer:{title:"播放音频文件"},videoPlayer:{title:"播放视频文件",embedTitle:"嵌入式媒体"},media:{image:"图像",video:"视频",audio:"音频",embed:"嵌入式媒体"}},"zh-hant":{base:{remove:"刪除",cancel:"取消",confirm:"確定",inert:"插入",width:"宽度",height:"高度"},controls:{clear:"清除内容",undo:"撤銷",redo:"重做",fontSize:"字號",color:"顏色",textColor:"文字顏色",backgroundColor:"背景顏色",tempColors:"臨時顏色",bold:"加粗",lineHeight:"行高",letterSpacing:"字間距",textIndent:"段落縮進",increaseIndent:"增加縮進",decreaseIndent:"减少縮進",border:"邊框",italic:"斜體",underline:"下劃線",strikeThrough:"刪除線",fontFamily:"字體",textAlign:"文本對齊",alignLeft:"居左",alignCenter:"居中",alignRight:"居右",alignJustify:"兩端對齊",floatLeft:"左浮動",floatRight:"右浮動",superScript:"上標",subScript:"下標",removeStyles:"清除样式",headings:"標題",header:"標題",normal:"常規",orderedList:"有序列表",unorderedList:"無序列表",blockQuote:"引用",code:"代碼",link:"鏈接",unlink:"清除鏈接",hr:"水平线",media:"媒體",mediaLibirary:"媒體库",emoji:"小表情",fullscreen:"全熒幕",exitFullscreen:"退出全熒幕"},linkEditor:{textInputPlaceHolder:"輸入鏈接文字",linkInputPlaceHolder:"輸入鏈接地址",inputWithEnterPlaceHolder:"輸入鏈接地址並回車",openInNewWindow:"在新窗口打開",removeLink:"移除鏈接"},audioPlayer:{title:"播放音頻文件"},videoPlayer:{title:"播放視頻文件",embedTitle:"嵌入式媒體"},media:{image:"圖像",video:"視頻",audio:"音頻",embed:"嵌入式媒體"}},pl:{base:{remove:"Usuń",cancel:"Anuluj",confirm:"Potwierdź",inert:"Wstaw",width:"Szerokość",height:"Wysokość"},controls:{clear:"Wyczyść",undo:"Cofnij",redo:"Przywróć",fontSize:"Wielkość",color:"Kolor",textColor:"Kolor tekstu",tempColors:"Kolory",backgroundColor:"Tło",bold:"Pogrubienie",lineHeight:"Wysokość linii",letterSpacing:"Odstęp znaków",textIndent:"Wcięcie tekstu",increaseIndent:"Zwiększ wcięcie",decreaseIndent:"Zmniejsz wcięcie",italic:"Italiki",underline:"Podkreślenie",strikeThrough:"Przekreślenie",fontFamily:"Czcionka",textAlign:"Wyrównanie tekstu",alignLeft:"Do lewej",alignCenter:"Wycentruj",alignRight:"Do prawej",alignJustify:"Wyjustuj",floatLeft:"Do lewej",floatRight:"Do prawej",superScript:"Superskrypt",subScript:"Subskrypt",removeStyles:"Usuń stylowanie",headings:"Nagłówki",header:"Nagłówek",normal:"Normalny",orderedList:"Lista uporządkowana",unorderedList:"Lista nieuporządkowana",blockQuote:"Cytat",code:"Kod",link:"Link",unlink:"Usuń link",hr:"Linia pozioma",media:"Media",mediaLibirary:"Biblioteka mediów",emoji:"Emoji"},linkEditor:{textInputPlaceHolder:"Wpisz tekst linku",linkInputPlaceHolder:"Wpisz Adres URL",inputWithEnterPlaceHolder:"Wpisz adres URL i naciśnij Enter",openInNewWindow:"Otwórz w nowym oknie",removeLink:"Usuń link"},audioPlayer:{title:"Odtwórz audio"},videoPlayer:{title:"Odtwórz wideo",embedTitle:"Tytuł"},media:{image:"Obraz",video:"Wideo",audio:"Audio",embed:"Obiekt osadzony"}},kr:{base:{remove:"삭제",cancel:"취소",confirm:"결정",inert:"삽입",width:"너비",height:"높이"},controls:{clear:"콘텐츠지우기",undo:"취소",redo:"다시하기",fontSize:"글자크기",lineHeight:"행높이",letterSpacing:"단어간격",textIndent:"단락들여쓰기",increaseIndent:"들여쓰기늘리기",decreaseIndent:"들여쓰기줄이기",border:"국경",color:"색상",textColor:"텍스트색상",backgroundColor:"배경색상",tempColors:"임시색",bold:"굵게",italic:"기울임꼴",underline:"밑줄",strikeThrough:"취소선",fontFamily:"글꼴",textAlign:"텍스트정렬",alignLeft:"왼쪽",alignCenter:"중심",alignRight:"오른쪽",alignJustify:"양쪽끝",floatLeft:"떠다니기",floatRight:"오른쪽부동",superScript:"위첨자",subScript:"첨자",removeStyles:"스타일지우기",headings:"제목",header:"제목",normal:"재래식",orderedList:"순서가지정된목록",unorderedList:"정렬되지않은목록",blockQuote:"참고문헌",code:"코드",link:"링크",unlink:"링크삭제",hr:"수평선",media:"미디어",mediaLibirary:"미디어라이브러리",emoji:"작은표현",fullscreen:"전체화면",exitFullscreen:"전체화면종료"},linkEditor:{textInputPlaceHolder:"링크텍스트입력",linkInputPlaceHolder:"링크주소입력",inputWithEnterPlaceHolder:"링크주소입력.",openInNewWindow:"새창열기",removeLink:"링크삭제"},audioPlayer:{title:"오디오파일재생"},videoPlayer:{title:"비디오파일재생",embedTitle:"임베디드미디어"},media:{image:"이미지",video:"비디오",audio:"오디오",embed:"임베디드미디어"}},tr:{base:{remove:"Kaldır",cancel:"İptal",confirm:"Onayla",inert:"Ekle",width:"Genişlik",height:"Yükseklik"},controls:{clear:"Temizle",undo:"Geri al",redo:"İleri al",fontSize:"Yazı boyutu",color:"Renk",textColor:"Yazı rengi",tempColors:"Geçici renkler",backgroundColor:"Arkaplan",bold:"Kalın",lineHeight:"Satır yüksekliği",letterSpacing:"Harf aralığı",textIndent:"Çentik aralığı",increaseIndent:"Çentiği genişlet",decreaseIndent:"Çentiği daralt",italic:"Eğik",underline:"Altı çizili",strikeThrough:"Üstü çizili",fontFamily:"Yazı tipi",textAlign:"Metin Hizalama",alignLeft:"Sola hizala",alignCenter:"Ortaya hizala",alignRight:"Sağa hizala",alignJustify:"Her iki tarafa hizala",floatLeft:"Sola yatır",floatRight:"Sağa yatır",superScript:"Ana kod",subScript:"Alt kod",removeStyles:"Stilleri kaldır",headings:"Başlıklar",header:"Başlık",normal:"Normal",orderedList:"Sıralı liste",unorderedList:"Sırasız liste",blockQuote:"Alıntı",code:"Kod",link:"Bağlantı",unlink:"Bağlantıyı kaldır",hr:"Yatay çizgi",media:"Medya",mediaLibirary:"Kütüphane",emoji:"İfade",fullscreen:"Tam ekran",exitFullscreen:"Tam ekrandan çık"},linkEditor:{textInputPlaceHolder:"Bağlantı metnini girin",linkInputPlaceHolder:"Bağlantı URL' si girin",inputWithEnterPlaceHolder:"Bağlantı URL'si girin ve Enter' a basın",openInNewWindow:"Yeni pencerede aç",removeLink:"Bağlantıyı kaldır"},audioPlayer:{title:"Ses çal"},videoPlayer:{title:"Görüntü oynat",embedTitle:"Görüntüyü göm"},media:{image:"Resim",video:"Görüntü",audio:"Ses",embed:"Gömülü nesne"}},jpn:{base:{remove:"削除",cancel:"キャンセル",confirm:"決定",inert:"挿入",width:"幅",height:"高さ"},controls:{clear:"クリアコンテンツ",undo:"キャンセル",redo:"キャンセル",fontSize:"フォントサイズ",lineHeight:"フォントサイズ",letterSpacing:"ワード間隔",textIndent:"段落のインデント",increaseIndent:"インデントを増やす",decreaseIndent:"インデントを減らす",border:"国境",color:"色",textColor:"テキストの色",backgroundColor:"背景色",tempColors:"仮色",bold:"太字",italic:"イタリック体",underline:"下線",strikeThrough:"取り消し線",fontFamily:"フォント",textAlign:"テキストの配置",alignLeft:"左",alignCenter:"中央揃え",alignRight:"右に立つ",alignJustify:"両端",floatLeft:"左フローティング",floatRight:"右フローティング",superScript:"上付き",subScript:"下付き文字",removeStyles:"クリアスタイル",headings:"役職",header:"役職",normal:"従来の",orderedList:"順序付きリスト",unorderedList:"番号なしリスト",blockQuote:"参照",code:"コード",link:"リンク",unlink:"リンクを解除",hr:"横線",media:"メディア",mediaLibirary:"メディアライブラリー",emoji:"小さな表現",fullscreen:"全画面",exitFullscreen:"全画面を退く"},linkEditor:{textInputPlaceHolder:"リンクテキストを入力",linkInputPlaceHolder:"リンクアドレスを入力",inputWithEnterPlaceHolder:"リンクアドレスを入力して戻ります",openInNewWindow:"新しいウィンドウで開く",removeLink:"新しいウィンドウで開く"},audioPlayer:{title:"オーディオファイルを再生する"},videoPlayer:{title:"ビデオファイルを再生する",embedTitle:"埋め込みメディア"},media:{image:"画像",video:"ビデオ",audio:"音声",embed:"埋め込みメディア"}},ru:{base:{remove:"Удалить",cancel:"Отмена",confirm:"Подтвердить",insert:"Вставить",width:"Ширина",height:"Высота"},controls:{clear:"Очистить",undo:"Отменить",redo:"Повторить",fontSize:"Размер шрифта",color:"Цвет",textColor:"Цвет текста",tempColors:"Temp Colors",backgroundColor:"Цвет фона",bold:"Жирный",lineHeight:"Межстрочный интервал",letterSpacing:"Межбуквенный интервал",textIndent:"Отступ",increaseIndent:"Увеличить отступ",decreaseIndent:"Уменьшить отступ",italic:"Курсив",underline:"Подчеркнутый",strikeThrough:"Перечеркнутый",fontFamily:"Шрифт",textAlign:"Расположение текста",alignLeft:"По левому краю",alignCenter:"По центру",alignRight:"По правому краю",alignJustify:"По ширине",floatLeft:"Обтекание слева",floatRight:"Обтекание справа",superScript:"Надстрочный индекс",subScript:"Подстрочный индекс",removeStyles:"Убрать стили",headings:"Заголовки",header:"Заголовок",normal:"Обычный",orderedList:"Упорядоченный список",unorderedList:"Неупорядоченный список",blockQuote:"Цитата",code:"Код",link:"Вставить ссылку",unlink:"Убрать ссылку",hr:"Горизонтальная линия",media:"Медиа",mediaLibirary:"Медиа библиотека",emoji:"Emoji",fullscreen:"Полноэкранный режим",exitFullscreen:"Выйти из полноэкранного режима"},linkEditor:{textInputPlaceHolder:"Введите текст ссылки",linkInputPlaceHolder:"Вставить ссылку",inputWithEnterPlaceHolder:"Вставить ссылку и нажать Enter",openInNewWindow:"Открыть в новом окне",removeLink:"Убрать ссылку"},audioPlayer:{title:"Воспроизвести аудиофайл"},videoPlayer:{title:"Воспроизвести видеофайл",embedTitle:"Embed Media"},media:{image:"Картинка",video:"Видео",audio:"Аудио",embed:"Встроенное"}}},F=n(17),L=n.n(F),T=n(3),P=n(6),O=n(13),D=n.n(O),A={language:"zh",controls:["undo","redo","separator","font-size","line-height","letter-spacing","separator","text-color","bold","italic","underline","strike-through","separator","superscript","subscript","remove-styles","emoji","separator","text-indent","text-align","separator","headings","list-ul","list-ol","blockquote","code","separator","media","link","table","split","hr","separator","clear","separator","fullscreen"],excludeControls:[],extendControls:[],extendAtomics:[],componentBelowControlBar:null,media:{pasteImage:!0,imagePasteLimit:5,image:!0,video:!0,audio:!0,uploadFn:null,validateFn:null,onBeforeDeselect:null,onDeselect:null,onBeforeSelect:null,onSelect:null,onBeforeRemove:null,onRemove:null,onCancel:null,onFileSelect:null,onBeforeInsert:null,onInsert:null,onChange:null,accepts:{image:"image/png,image/jpeg,image/gif,image/webp,image/apng,image/svg",video:"video/mp4",audio:"audio/mp3"},externals:{audio:!0,video:!0,image:!0,embed:!0}},imageControls:["align-left","align-center","align-right","link","size","remove"],imageResizable:!0,colors:["#000000","#333333","#666666","#999999","#cccccc","#ffffff","#61a951","#16a085","#07a9fe","#003ba5","#8e44ad","#f32784","#c0392b","#d35400","#f39c12","#fdda00"],colorPicker:null,colorPickerTheme:"dark",colorPickerAutoHide:!0,codeTabIndents:2,headings:["header-one","header-two","header-three","header-four","header-five","header-six","unstyled"],textAligns:["left","center","right","justify"],textBackgroundColor:!0,allowInsertLinkText:!1,defaultLinkTarget:"",letterSpacings:[0,1,2,3,4,5,6],lineHeights:[1,1.2,1.5,1.75,2,2.5,3,4],fontSizes:[12,14,16,18,20,24,28,30,32,36,40,48,56,64,72,96,120,144],fontFamilies:[{name:"Araial",family:"Arial, Helvetica, sans-serif"},{name:"Georgia",family:"Georgia, serif"},{name:"Impact",family:"Impact, serif"},{name:"Monospace",family:'"Courier New", Courier, monospace'},{name:"Tahoma",family:'tahoma, arial, "Hiragino Sans GB", 宋体, sans-serif'}],converts:{unitExportFn:function(e,t){return"line-height"===t?e:"".concat(e,"px")}},emojis:["🤣","🙌","💚","💛","👏","😉","💯","💕","💞","💘","💙","💝","🖤","💜","❤️","😍","😻","💓","💗","😋","😇","😂","😹","😘","💖","😁","😀","🤞","😲","😄","😊","👍","😌","😃","😅","✌️","🤗","💋","😗","😽","😚","🤠","😙","😺","👄","😸","😏","😼","👌","😎","😆","😛","🙏","🤝","🙂","🤑","😝","😐","😑","🤤","😤","🙃","🤡","😶","😪","😴","😵","😓","👊","😦","😷","🤐","😜","🤓","👻","😥","🙄","🤔","🤒","🙁","😔","😯","☹️","☠️","😰","😩","😖","😕","😒","😣","😢","😮","😿","🤧","😫","🤥","😞","😬","👎","💀","😳","😨","🤕","🤢","😱","😭","😠","😈","😧","💔","😟","🙀","💩","👿","😡","😾","🖕"],stripPastedStyles:!1,triggerChangeOnMount:!0,className:"",style:{},controlBarClassName:"",controlBarStyle:{},contentClassName:"",contentStyle:{},draftProps:{},hooks:{},onChange:null,onFocus:null,onBlur:null,onTab:null,onDelete:null,onSave:null,fixPlaceholder:!1},H=n(22),M=n.n(H),R=n(23),B=function(e,t,n){if(n.editorProps.handleKeyCommand&&"handled"===n.editorProps.handleKeyCommand(e,t,n))return"handled";if("braft-save"===e)return n.editorProps.onSave&&n.editorProps.onSave(t),"handled";var o=n.editorProps,r=o.controls,i=o.excludeControls,a=(0!==r.indexOf("text-indent")||r.find(function(e){return"text-indent"===e.key}))&&-1===i.indexOf("text-indent"),l=t.getSelection().getStartOffset(),s=t.getSelection().getEndOffset(),c=0===l&&0===s;if("backspace"===e){if(n.editorProps.onDelete&&!1===n.editorProps.onDelete(t))return"handled";var d=T.ContentUtils.getSelectionBlockType(t);a&&c&&"code-block"!==d&&n.setValue(T.ContentUtils.decreaseSelectionIndent(t))}if("tab"===e){var u=T.ContentUtils.getSelectionBlockType(t);if("code-block"===u)return n.setValue(T.ContentUtils.insertText(t," ".repeat(n.editorProps.codeTabIndents))),"handled";if("ordered-list-item"===u||"unordered-list-item"===u){var p=P.RichUtils.onTab(event,t,4);return p!==t&&n.setValue(p),"handled"}if("atomic"!==u&&a&&c)return n.setValue(T.ContentUtils.increaseSelectionIndent(t)),"handled"}var f=T.ContentUtils.handleKeyCommand(t,e);return f?(n.setValue(f),"handled"):"not-handled"},U=function(e,t,n){if(n.editorProps.handleReturn&&"handled"===n.editorProps.handleReturn(e,t,n))return"handled";var o=T.ContentUtils.getSelectionBlock(t),r=o.getType();if("unordered-list-item"===r||"ordered-list-item"===r)return 0===o.getLength()?(n.setValue(T.ContentUtils.toggleSelectionBlockType(t,"unstyled")),"handled"):"not-handled";if("code-block"===r)return 13===e.which&&(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control"))?(n.setValue(T.ContentUtils.toggleSelectionBlockType(t,"unstyled")),"handled"):"not-handled";if("blockquote"===r&&13===e.which){if(!(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control")))return n.setValue(P.RichUtils.insertSoftNewline(t)),"handled";e.which=0}var i=Object(R.handleNewLine)(t,e);return i?(n.setValue(i),"handled"):"not-handled"},z=function(e,t,n){return n.editorProps.handleBeforeInput&&"handled"===n.editorProps.handleBeforeInput(e,t,n)?"handled":"not-handled"},j=function(e,t){var n=t.state.editorState,o=T.ContentUtils.getSelectedBlocks(n);if(o&&o.length>1){var r=P.EditorState.push(n,P.Modifier.removeRange(n.getCurrentContent(),n.getSelection(),"backward"),"remove-range");t.setValue(r)}},V=function(e,t,n){if(n.editorProps.readOnly||n.editorProps.disabled)return"handled";if(window&&window.__BRAFT_DRAGING__IMAGE__){var o=P.EditorState.forceSelection(n.state.editorState,e);return o=T.ContentUtils.insertMedias(o,[window.__BRAFT_DRAGING__IMAGE__.mediaData]),o=T.ContentUtils.removeBlock(o,window.__BRAFT_DRAGING__IMAGE__.block,o.getSelection()),window.__BRAFT_DRAGING__IMAGE__=null,n.lockOrUnlockEditor(!0),n.setValue(o),"handled"}return t&&t.getText()?"not-handled":"handled"},_=function(e,t){var n=a()({},t.constructor.defaultProps.media,t.editorProps.media),o=n.pasteImage,r=n.validateFn,i=n.imagePasteLimit;return o&&e.slice(0,i).forEach(function(e){if(e&&e.type.indexOf("image")>-1&&t.braftFinder){var n=!r||r(e);n instanceof Promise?n.then(function(){t.braftFinder.uploadImage(e,function(e){t.isLiving&&t.setValue(T.ContentUtils.insertMedias(t.state.editorState,[e]))})}):n&&t.braftFinder.uploadImage(e,function(e){t.isLiving&&t.setValue(T.ContentUtils.insertMedias(t.state.editorState,[e]))})}}),e[0]&&e[0].type.indexOf("image")>-1&&o?"handled":"not-handled"},K=function(e,t,n){return n.editorProps.handleDroppedFiles&&"handled"===n.editorProps.handleDroppedFiles(e,t,n)?"handled":_(t,n)},W=function(e,t){return t.editorProps.handlePastedFiles&&"handled"===t.editorProps.handlePastedFiles(e,t)?"handled":_(e,t)},q=function(e,t){var n=M()(t.state.editorState);if(n&&n.toArray)try{var o=P.ContentState.createFromBlockArray(n.toArray()),r=P.EditorState.createWithContent(o),i=e.clipboardData||window.clipboardData||e.originalEvent.clipboardData;r.setConvertOptions(t.state.editorState.convertOptions),i.setData("text/html",r.toHTML()),i.setData("text/plain",r.toText()),e.preventDefault()}catch(e){console.warn(e)}},G=function(e,t,n,o){if(o.editorProps.handlePastedText&&"handled"===o.editorProps.handlePastedText(e,t,n,o))return"handled";if(!t||o.editorProps.stripPastedStyles)return!1;var r=T.ColorUtils.detectColorsFromHTMLString(t);return o.setState({tempColors:[].concat(x()(o.state.tempColors),x()(r)).filter(function(e){return-1===o.editorProps.colors.indexOf(e)}).filter(function(e,t,n){return n.indexOf(e)===t})},function(){o.setValue(T.ContentUtils.insertHTML(n,t,"paste"))}),"handled"},J=[],Y=[],Q=[],X=[],Z=[],$=[],ee=[],te=[],ne=[],oe=[],re=[],ie=[],ae=function(e,t){return t?e.map(function(e){return e.includeEditors||e.excludeEditors?e.includeEditors?-1!==e.includeEditors.indexOf(t)&&e.data:!!e.excludeEditors&&(-1===e.excludeEditors.indexOf(t)&&e.data):e.data}).filter(function(e){return e}):e.filter(function(e){return!e.includeEditors}).map(function(e){return e.data})},le=function(e,t){return function(n,o,r){return ae(ne,t).forEach(function(e){e.importer&&e.importer(n,o)&&(r=r.add(e.inlineStyleName))}),e?e(n,o,r):r}},se=function(e,t){return function(n){n=n.toUpperCase();var o=e?e(n):void 0;return o||(ae(oe,t).find(function(e){if(e.inlineStyleName===n)return o=e.exporter,!0}),o)}},ce=function(e,t){return function(n,o,r,i){var a=e?e(n,o,r,i):null;return a||(ae(te,t).find(function(e){var t=e.importer?e.importer(n,o,i):null;return t&&(a=r(e.entityType,t.mutability||"MUTABLE",t.data||{})),!!t}),a)}},de=function(e,t){return function(n,o){var r=e?e(n,o):void 0;if(r)return r;var i=n.type.toUpperCase();return ae(te,t).find(function(e){if(e.entityType===i)return r=e.exporter?e.exporter(n,o):void 0,!0}),r}},ue=function(e,t){return function(n,o,r){var i=e?e(n,o,r):null;return i||(ae(re,t).find(function(e){var t=e.importer?e.importer(n,o,r):void 0;return t&&(i=t),!!t}),i)}},pe=function(e,t){return function(n,o){var r=e?e(n,o):null;return r||(ae(ie,t).find(function(e){var t=e.exporter?e.exporter(n,o):void 0;return t&&(r=t),!!t}),r)}},fe=function e(t){if(t instanceof Array)return t.forEach(e),!1;if(!t||!t.type||"string"!=typeof t.type)return!1;var n=t.includeEditors,o=t.excludeEditors;if("control"===t.type)J.push({includeEditors:n,excludeEditors:o,data:t.control});else if("inline-style"===t.type){var r=t.name.toUpperCase();t.control&&J.push({includeEditors:n,excludeEditors:o,data:a()({key:r,type:"inline-style",command:r},t.control)}),t.style&&$.push({includeEditors:n,excludeEditors:o,data:{inlineStyleName:r,styleMap:t.style}}),t.styleFn&&ee.push({includeEditors:n,excludeEditors:o,data:{inlineStyleName:r,styleFn:t.styleFn}}),t.importer&&ne.push({includeEditors:n,excludeEditors:o,data:{inlineStyleName:r,importer:t.importer}}),oe.push({includeEditors:n,excludeEditors:o,data:{inlineStyleName:r,exporter:t.exporter?t.exporter(t):I.a.createElement("span",{style:t.style})}})}else if("block-style"===t.type);else if("entity"===t.type){var i=t.name.toUpperCase();t.control&&J.push({includeEditors:n,excludeEditors:o,data:"function"==typeof t.control?t.control:a()({key:i,type:"entity",command:i,data:{mutability:t.mutability||"MUTABLE",data:t.data||{}}},t.control)}),te.push({includeEditors:n,excludeEditors:o,data:{entityType:i,importer:t.importer,exporter:t.exporter}}),Y.push({includeEditors:n,excludeEditors:o,data:{type:"entity",decorator:{key:i,component:t.component}}})}else if("block"===t.type){var l=t.name;t.renderMap&&X.push({includeEditors:n,excludeEditors:o,data:{blockType:l,renderMap:t.renderMap}}),t.rendererFn&&Z.push({includeEditors:n,excludeEditors:o,data:{blockType:l,rendererFn:t.rendererFn}}),t.importer&&re.push({includeEditors:n,excludeEditors:o,data:{blockType:l,importer:t.importer}}),t.exporter&&ie.push({includeEditors:n,excludeEditors:o,data:{blockType:l,exporter:t.exporter}})}else if("atomic"===t.type);else if("decorator"===t.type){var s=t.decorator;s&&s.strategy&&s.component?Y.push({includeEditors:n,excludeEditors:o,data:{type:"strategy",decorator:s}}):s&&s.getDecorations&&Y.push({includeEditors:n,excludeEditors:o,data:{type:"class",decorator:s}})}else"prop-interception"===t.type&&Q.push({includeEditors:n,excludeEditors:o,data:t.interceptor})},me=n(24),he=n.n(me),ge=(n(45),n(46),function(e){var t=e.active,n=e.onClick,o=e.className;return I.a.createElement("div",{onClick:function(){return n()},className:"bf-switch "+o+(t?" active":"")})}),ye={"float-left":{text:I.a.createElement("span",{"data-float":"left"},""),command:"setImageFloat|left"},"float-right":{text:I.a.createElement("span",{"data-float":"right"},""),command:"setImageFloat|right"},"align-left":{text:I.a.createElement("span",{"data-align":"left"},""),command:"setImageAlignment|left"},"align-center":{text:I.a.createElement("span",{"data-align":"center"},""),command:"setImageAlignment|center"},"align-right":{text:I.a.createElement("span",{"data-align":"right"},""),command:"setImageAlignment|right"},size:{text:I.a.createElement("span",null,""),command:"toggleSizeEditor"},link:{text:I.a.createElement("span",null,""),command:"toggleLinkEditor"},remove:{text:I.a.createElement("span",null,""),command:"removeImage"}},ve=function(e){function t(){var e,n;d()(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=m()(this,(e=g()(t)).call.apply(e,[this].concat(r))),C()(v()(n),"state",{toolbarVisible:!1,toolbarOffset:0,linkEditorVisible:!1,sizeEditorVisible:!1,tempLink:null,tempWidth:null,tempHeight:null}),C()(v()(n),"initialLeft",void 0),C()(v()(n),"initialTop",void 0),C()(v()(n),"initialWidth",void 0),C()(v()(n),"initialHeight",void 0),C()(v()(n),"reSizeType",void 0),C()(v()(n),"changeSize",function(e){var t=n.reSizeType;n.initialLeft||(n.initialLeft=e.screenX,n.initialTop=e.screenY),"rightbottom"===t&&(n.initialWidth+=e.screenX-n.initialLeft),"leftbottom"===t&&(n.initialWidth+=-e.screenX+n.initialLeft),n.initialHeight=n.originHeight/n.originWidth*n.initialWidth,n.initialLeft=e.screenX,n.initialTop=e.screenY}),C()(v()(n),"moveImage",function(e){n.changeSize(e),n.setState({tempWidth:Math.abs(n.initialWidth),tempHeight:Math.abs(n.initialHeight)})}),C()(v()(n),"upImage",function(){n.confirmImageSize(),document.removeEventListener("mousemove",n.moveImage),document.removeEventListener("mouseup",n.upImage)}),C()(v()(n),"repareChangeSize",function(e){return function(t){n.reSizeType=e;var o=n.imageElement.getBoundingClientRect();n.initialLeft=n.initialTop=0,n.initialWidth=o.width,n.initialHeight=o.height,t.preventDefault(),document.addEventListener("mousemove",n.moveImage),document.addEventListener("mouseup",n.upImage)}}),C()(v()(n),"getInitSize",function(){var e=window.getComputedStyle(n.imageElement);n.originHeight=parseFloat(e.height),n.originWidth=parseFloat(e.width)}),C()(v()(n),"preventDragEvent",function(e){e.stopPropagation(),e.preventDefault()}),C()(v()(n),"handleDragStart",function(){return!n.props.editor.editorProps.readOnly&&!n.props.editor.editorProps.disabled&&(window.__BRAFT_DRAGING__IMAGE__={block:n.props.block,mediaData:a()({type:"IMAGE"},n.props.mediaData)},n.setState({toolbarVisible:!1},function(){n.unlockEditor()}),!0)}),C()(v()(n),"handleDragEnd",function(){return window.__BRAFT_DRAGING__IMAGE__=null,!1}),C()(v()(n),"executeCommand",function(e){if("string"==typeof e){var t=e.split("|"),o=he()(t,2),r=o[0],i=o[1];n[r]&&n[r](i)}else"function"==typeof e&&e(n.props.block,n.props.mediaData,n.props.editor.getValue())}),C()(v()(n),"removeImage",function(){n.props.editor.setValue(T.ContentUtils.removeBlock(n.props.editor.getValue(),n.props.block)),n.unlockEditor()}),C()(v()(n),"toggleLinkEditor",function(){n.setState({linkEditorVisible:!n.state.linkEditorVisible,sizeEditorVisible:!1})}),C()(v()(n),"toggleSizeEditor",function(){n.setState({linkEditorVisible:!1,sizeEditorVisible:!n.state.sizeEditorVisible})}),C()(v()(n),"handleLinkInputKeyDown",function(e){13===e.keyCode&&n.confirmImageLink()}),C()(v()(n),"setImageLink",function(e){n.setState({tempLink:e.currentTarget.value})}),C()(v()(n),"confirmImageLink",function(){var e=n.state.tempLink,t=n.props.hooks("set-image-link",e)(e);if(!1===t)return!1;"string"==typeof t&&(e=t),null!==e&&(n.props.editor.setValue(T.ContentUtils.setMediaData(n.props.editor.getValue(),n.props.entityKey,{link:e})),window.setImmediate(n.props.editor.forceRender))}),C()(v()(n),"handleSizeInputKeyDown",function(e){13===e.keyCode&&n.confirmImageSize()}),C()(v()(n),"setImageWidth",function(e){var t=e.currentTarget.value,o=parseFloat(t);if(o==o){var r=n.originHeight/n.originWidth*o;n.setState({tempWidth:o,tempHeight:r})}}),C()(v()(n),"setImageHeight",function(e){var t=e.currentTarget.value;t&&!isNaN(t)&&(t+="px"),n.setState({tempHeight:t})}),C()(v()(n),"confirmImageSize",function(){var e=n.state,t=e.tempWidth,o=e.tempHeight,r={};null!==t&&(r.width=t),null!==o&&(r.height=o);var i=n.props.hooks("set-image-size",r)(r);if(!1===i)return!1;i&&(i.width||i.height)&&(r=i),n.props.editor.setValue(T.ContentUtils.setMediaData(n.props.editor.getValue(),n.props.entityKey,r)),window.setImmediate(n.props.editor.forceRender)}),C()(v()(n),"setImageFloat",function(e){var t=n.props.hooks("set-image-float",e)(e);if(!1===t)return!1;"string"==typeof t&&(e=t),n.props.editor.setValue(T.ContentUtils.setMediaPosition(n.props.editor.getValue(),n.props.block,{float:e})),n.unlockEditor()}),C()(v()(n),"setImageAlignment",function(e){n.props.editor.setValue(T.ContentUtils.setMediaPosition(n.props.editor.getValue(),n.props.block,{alignment:e}))}),C()(v()(n),"showToolbar",function(e){if(n.props.editor.editorProps.readOnly||n.props.editor.editorProps.disabled)return!1;e.preventDefault(),n.state.toolbarVisible||n.setState({toolbarVisible:!0},function(){n.lockEditor(),n.setState({toolbarOffset:n.calcToolbarOffset()})})}),C()(v()(n),"hideToolbar",function(e){e.preventDefault(),n.setState({toolbarVisible:!1},function(){n.unlockEditor(),n.props.editor.requestFocus()})}),n}return k()(t,e),p()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.mediaData,o=t.language,r=t.imageControls,i=t.imageResizable,a=this.state,l=a.toolbarVisible,s=a.toolbarOffset,c=a.linkEditorVisible,d=a.sizeEditorVisible,u=a.tempWidth,p=a.tempHeight;u=parseFloat(u),p=parseFloat(p);var f=this.props.block.getData(),m=f.get("float"),h=f.get("alignment"),g=n.url,y=n.link,v=n.link_target,b=n.width,k=n.height,E=(n.meta,{}),C=!1;m?h=null:"left"===h?(E.float="left",C=!0):"right"===h?(E.float="right",C=!0):"center"===h?E.textAlign="center":(E.float="left",C=!0);var S=r.map(function(t,o){return"string"==typeof t&&ye[t]?I.a.createElement("a",{className:"link"===t&&y?"active":"",key:o,href:"javascript:void(0);",onClick:function(){return e.executeCommand(ye[t].command)}},ye[t].text):t&&(t.render||t.text)?t.render?t.render(n,e.props.block):I.a.createElement("a",{key:o,href:"javascript:void(0);",onClick:function(){return t.onClick&&e.executeCommand(t.onClick)}},t.text):null});return I.a.createElement("div",{className:"bf-media"},I.a.createElement("div",{style:E,draggable:!0,onMouseEnter:this.showToolbar,onMouseMove:this.showToolbar,onMouseLeave:this.hideToolbar,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,ref:function(t){return e.mediaEmbederInstance=t},className:"bf-image"},l?I.a.createElement("div",{style:{marginLeft:s},ref:function(t){return e.toolbarElement=t},"data-float":m,"data-align":h,className:"bf-media-toolbar"},c?I.a.createElement("div",{className:"bf-image-link-editor"},I.a.createElement("div",{className:"editor-input-group"},I.a.createElement("input",{type:"text",placeholder:o.linkEditor.inputWithEnterPlaceHolder,onKeyDown:this.handleLinkInputKeyDown,onChange:this.setImageLink,defaultValue:y}),I.a.createElement("button",{type:"button",onClick:this.confirmImageLink},o.base.confirm)),I.a.createElement("div",{className:"switch-group"},I.a.createElement(ge,{active:"_blank"===v,onClick:function(){return e.setImageLinkTarget(v)}}),I.a.createElement("label",null,o.linkEditor.openInNewWindow))):null,d?I.a.createElement("div",{className:"bf-image-size-editor"},I.a.createElement("div",{className:"editor-input-group"},I.a.createElement("input",{type:"text","data-key":"test",placeholder:o.base.width,onKeyDown:this.handleSizeInputKeyDown,onChange:this.setImageWidth,defaultValue:b}),I.a.createElement("button",{type:"button",onClick:this.confirmImageSize},o.base.confirm))):null,S,I.a.createElement("i",{style:{marginLeft:-1*s},className:"bf-media-toolbar-arrow"})):null,I.a.createElement("div",{style:{position:"relative",width:"".concat(b,"px"),height:"".concat(k,"px"),display:"inline-block"}},I.a.createElement("img",{ref:function(t){return e.imageElement=t},src:g,onLoad:this.getInitSize,width:b,height:"auto",style:{width:b}}),l&&i?I.a.createElement("div",{className:"bf-csize-icon right-bottom",onMouseDown:this.repareChangeSize("rightbottom")}):null,l&&i?I.a.createElement("div",{className:"bf-csize-icon left-bottom",onMouseDown:this.repareChangeSize("leftbottom")}):null,i?I.a.createElement("div",{className:"bf-pre-csize ".concat(this.reSizeType),style:{width:"".concat(u,"px"),height:"".concat(p,"px")}}):null)),C&&I.a.createElement("div",{className:"clearfix",style:{clear:"both",height:0,lineHeight:0,float:"none"}}))}},{key:"lockEditor",value:function(){this.props.editor.lockOrUnlockEditor(!0)}},{key:"unlockEditor",value:function(){this.props.editor.lockOrUnlockEditor(!1)}},{key:"calcToolbarOffset",value:function(){var e=this.props,t=e.getContainerNode,n=e.containerNode,o=t?t():n;if(!o)return 0;var r=o.querySelector(".bf-content").getBoundingClientRect(),i=this.toolbarElement.getBoundingClientRect(),a=this.imageElement.getBoundingClientRect(),l=r.right-(a.right-a.width/2+i.width/2),s=a.left+a.width/2-i.width/2-r.left;return l<10?l-10:s<10?-1*s+10:0}},{key:"setImageLinkTarget",value:function(e){var t=this.props.hooks("set-image-link-target",e)(e);if(!1===t)return!1;"string"==typeof t&&(e=t),e="_blank"===e?"":"_blank",this.props.editor.setValue(T.ContentUtils.setMediaData(this.props.editor.getValue(),this.props.entityKey,{link_target:e})),window.setImmediate(this.props.editor.forceRender)}}]),t}(I.a.Component),be=(n(47),n(11)),ke=n.n(be),Ee=(n(48),n(16)),Ce=n.n(Ee),Se=function(e){function t(e){var n;return d()(this,t),n=m()(this,g()(t).call(this,e)),C()(v()(n),"handleTransitionEnd",function(){if(!n.rootElement||!n.rootElement.classList)return!1;n.rootElement.classList.contains("active")||Ce.a.unmountComponentAtNode(n.rootElement)&&n.rootElement.parentNode.removeChild(n.rootElement)}),C()(v()(n),"handleMouseDown",function(e){var t=e.target.tagName.toLowerCase();if("input"===t||"textarea"===t)return!1;e.preventDefault()}),C()(v()(n),"handleCancel",function(){n.props.closeOnCancel&&n.close(),n.props.onCancel&&n.props.onCancel()}),C()(v()(n),"handleConfirm",function(){n.props.closeOnConfirm&&n.close(),n.props.onConfirm&&n.props.onConfirm()}),C()(v()(n),"handleMaskClick",function(){n.props.closeOnBlur&&n.close(),n.props.onBlue&&n.props.onBlue()}),C()(v()(n),"close",function(){n.unrenderComponent(),n.props.onClose&&n.props.onClose()}),n.active=!1,n.componentId="BRAFT-MODAL-"+T.BaseUtils.UniqueIndex(),n}return k()(t,e),p()(t,[{key:"componentDidMount",value:function(){this.props.visible&&(this.active=!0,this.renderComponent(this.props))}},{key:"componentWillReceiveProps",value:function(e){this.props.visible&&!e.visible?this.unrenderComponent():(this.props.visible||e.visible)&&(this.active=!0,this.renderComponent(e))}},{key:"render",value:function(){return null}},{key:"unrenderComponent",value:function(){this.active=!1,this.activeId&&window.clearImmediate(this.activeId),this.rootElement&&this.rootElement.classList&&this.rootElement.classList.remove("active")}},{key:"renderComponent",value:function(e){var t=this;if(!this.active)return!1;var n=e.title,o=e.className,r=e.width,i=e.height,a=e.children,l=e.component,s=e.confirmable,c=e.showFooter,d=e.showCancel,u=e.showConfirm,p=e.showClose,f=e.cancelText,m=e.confirmText,h=e.bottomText,g=e.language;void 0===d&&(d=!0),void 0===p&&(p=!0),void 0===u&&(u=!0),void 0===c&&(c=!0);var y=I.a.createElement("div",{onMouseDown:this.handleMouseDown,className:"bf-modal "+(o||"")},I.a.createElement("div",{className:"bf-modal-mask",onClick:this.handleMaskClick}),I.a.createElement("div",{onTransitionEnd:this.handleTransitionEnd,style:{width:r,height:i},className:"bf-modal-content"},I.a.createElement("div",{className:"bf-modal-header"},I.a.createElement("h3",{className:"bf-modal-caption"},n),p&&I.a.createElement("button",{type:"button",onClick:this.close,className:"bf-modal-close-button"},I.a.createElement("i",{className:"bfi-close"}))),I.a.createElement("div",{className:"bf-modal-body"},a||l),c?I.a.createElement("div",{className:"bf-modal-footer"},I.a.createElement("div",{className:"bf-modal-addon-text"},h),I.a.createElement("div",{className:"bf-modal-buttons"},d&&I.a.createElement("button",{type:"button",onClick:this.handleCancel,className:"bf-modal-cancel"},f||g.base.cancel),u&&I.a.createElement("button",{type:"button",onClick:this.handleConfirm,className:"bf-modal-confirm "+(s?"":"disabled")},m||g.base.confirm))):null));this.rootElement=document.querySelector("#"+this.componentId),this.rootElement||(this.rootElement=document.createElement("div"),this.rootElement.id=this.componentId,this.rootElement.className="bf-modal-root",document.body.appendChild(this.rootElement)),Ce.a.render(y,this.rootElement),this.activeId=window.setImmediate(function(){t.rootElement.classList.add("active")})}}]),t}(I.a.Component);C()(Se,"defaultProps",{showFooter:!0,closeOnBlur:!0});var xe=function(e){var t=document.createElement("div");t.style.display="none",document.body.appendChild(t),e=a()({visible:!0,closeOnConfirm:!0,closeOnCancel:!0},e);var n=function(){Ce.a.unmountComponentAtNode(t)&&t.parentNode.removeChild(t)},o=Ce.a.render(I.a.createElement(Se,ke()({},e,{onConfirm:function(){e.onConfirm&&e.onConfirm()},onCancel:function(){e.onCancel&&e.onCancel()},onClose:function(){n(),e.onClose&&e.onClose()}})),t);return o.destroy=n,o.update=o.renderComponent,o},we=(n(49),{video:"bfi-film",audio:"bfi-music",embed:"bfi-code"}),Ie=function(e){var t=e.title,n=e.type,o=e.language,r=e.name,i=e.url,a=e.poster,l=e.children,s=e.onRemove;return I.a.createElement("div",{className:"bf-player-holder ".concat(n)},I.a.createElement("div",{className:"icon-badge"},I.a.createElement("i",{className:we[n]}),I.a.createElement("span",{className:"text"},o.media[n])),I.a.createElement("button",{onMouseDown:s,className:"button-remove"},I.a.createElement("i",{className:"bfi-close"})),I.a.createElement("button",{onMouseDown:function(){return function(e,t,n){return xe({title:e,component:t,language:n,showFooter:!1})}(r?"".concat(t,":").concat(r):t,l,o)},className:"button-play"},I.a.createElement("i",{className:"bfi-play_arrow"})),r?I.a.createElement("h5",{className:"bf-name"},r):null,I.a.createElement("h6",{className:"bf-url"},i),a?I.a.createElement("div",{className:"bf-poster",style:{backgroundImage:"url(".concat(a,")")}}):null)},Ne=function(e){function t(){var e,n;d()(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=m()(this,(e=g()(t)).call.apply(e,[this].concat(r))),C()(v()(n),"removeVideo",function(){n.props.editor.setValue(T.ContentUtils.removeBlock(n.props.editorState,n.props.block))}),n}return k()(t,e),p()(t,[{key:"render",value:function(){var e=this.props,t=e.mediaData,n=e.language,o=t.url,r=t.name,i=t.meta;return I.a.createElement("div",{className:"bf-video-wrap"},I.a.createElement(Ie,{type:"video",onRemove:this.removeVideo,poster:i&&i.poster||"",language:n,url:o,name:r,title:n.videoPlayer.title},I.a.createElement("div",{className:"bf-video-player"},I.a.createElement("video",{controls:!0,src:o,poster:i&&i.poster||""}))))}}]),t}(I.a.Component),Fe=(n(50),function(e){function t(){var e,n;d()(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=m()(this,(e=g()(t)).call.apply(e,[this].concat(r))),C()(v()(n),"removeAudio",function(){n.props.editor.setValue(T.ContentUtils.removeBlock(n.props.editorState,n.props.block))}),n}return k()(t,e),p()(t,[{key:"render",value:function(){var e=this.props,t=e.mediaData,n=e.language,o=t.url,r=t.name,i=t.meta;return I.a.createElement("div",{className:"bf-audio-wrap"},I.a.createElement(Ie,{type:"audio",onRemove:this.removeAudio,poster:i&&i.poster||"",language:n,url:o,name:r,title:n.audioPlayer.title},I.a.createElement("div",{className:"bf-audio-player"},I.a.createElement("audio",{controls:!0,src:o}))))}}]),t}(I.a.Component)),Le=(n(51),function(e){function t(){var e,n;d()(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=m()(this,(e=g()(t)).call.apply(e,[this].concat(r))),C()(v()(n),"removeEmbed",function(){n.props.editor.setValue(T.ContentUtils.removeBlock(n.props.editorState,n.props.block))}),n}return k()(t,e),p()(t,[{key:"render",value:function(){var e=this.props,t=e.mediaData,n=e.language,o=t.name,r=t.url,i=t.meta;return I.a.createElement("div",{className:"bf-embed-wrap"},I.a.createElement(Ie,{type:"embed",onRemove:this.removeEmbed,poster:i&&i.poster||"",language:n,url:r,name:o,title:n.videoPlayer.embedTitle},I.a.createElement("div",{className:"bf-embed-player",dangerouslySetInnerHTML:{__html:r}})))}}]),t}(I.a.Component)),Te=(n(52),function(e){function t(){var e,n;d()(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=m()(this,(e=g()(t)).call.apply(e,[this].concat(r))),C()(v()(n),"removeHorizontalLine",function(){n.props.editor.setValue(T.ContentUtils.removeBlock(n.props.editorState,n.props.block))}),n}return k()(t,e),p()(t,[{key:"render",value:function(){return I.a.createElement("div",{className:"bf-hr"},I.a.createElement("div",{className:"bf-media-toolbar"},I.a.createElement("a",{onClick:this.removeHorizontalLine},"")))}}]),t}(I.a.Component)),Pe=(new function e(){var t=this;d()(this,e),C()(this,"superProps",void 0),C()(this,"customBlockRendererFn",void 0),C()(this,"getRenderFn",function(e,n){return t.superProps=e,t.customBlockRendererFn=n,t.blockRendererFn}),C()(this,"renderAtomicBlock",function(e){var n=t.superProps,o=e.block.getEntityAt(0);if(!o)return null;var r=e.contentState.getEntity(o),i=r.getData(),l=r.getType(),s=a()({},n,{block:e.block,mediaData:i,entityKey:o});if("IMAGE"===l)return I.a.createElement(ve,s);if("AUDIO"===l)return I.a.createElement(Fe,s);if("VIDEO"===l)return I.a.createElement(Ne,s);if("EMBED"===l)return I.a.createElement(Le,s);if("HR"===l)return I.a.createElement(Te,s);if(n.extendAtomics)for(var c=n.extendAtomics,d=0;d<c.length;d++)if(l===c[d].type){var u=c[d].component;return I.a.createElement(u,s)}return null}),C()(this,"blockRendererFn",function(e){var n,o=t.customBlockRendererFn,r=t.superProps,i=e.getType(),a=null;return o&&(a=o(e,r)||null),a||((n=r.editorId,ae(Z,n)).find(function(e){if(e.blockType===i||e.blockType instanceof RegExp&&e.blockType.test(i))return a=e.rendererFn?e.rendererFn(r):null,!0}),a||("atomic"===i&&(a={component:t.renderAtomicBlock,editable:!1}),a))})}).getRenderFn,Oe=function(e){return e.split("-")[1]},De=n(18),Ae=n.n(De),He=function(e,t){if(e.getModifierState("Control")||e.getModifierState("Meta")){var n=document.createElement("a");n.href=t,n.target=e.currentTarget.target,n.click()}};Ae.a.prototype.getDecorations=function(e,t){var n=Array(e.getText().length).fill(null);return this.decorators.forEach(function(o,r){o.getDecorations(e,t).forEach(function(e,t){e&&(e=r+"-"+e,n[t]=e)})}),D.a.List(n)};var Me=[{type:"entity",decorator:{key:"LINK",component:function(e){var t=e.children,n=e.entityKey,o=e.contentState.getEntity(n).getData(),r=o.href,i=o.target;return I.a.createElement("span",{className:"bf-link-wrap"},I.a.createElement("a",{onClick:function(e){return He(e,r)},className:"bf-link",href:r,target:i},t))}}}],Re=function(e,t){var n,o=Object(O.Map)({atomic:{element:""},"code-block":{element:"code",wrapper:I.a.createElement("pre",{className:"braft-code-block"})}});try{o=(n=e.editorId,ae(X,n)).reduce(function(t,n){return t.merge("function"==typeof n.renderMap?n.renderMap(e):n.renderMap)},o),t&&(o="function"==typeof t?o.merge(t(e)):o.merge(t)),o=P.DefaultDraftBlockRenderMap.merge(o)}catch(e){console.warn(e)}return o},Be=Pe,Ue=function(e){return function(t){var n=t.getData()&&t.getData().get("textAlign"),o=t.getData()&&t.getData().get("textIndent"),r=t.getData()&&t.getData().get("float"),i="";return n&&(i="bfa-".concat(n)),o&&0!==o&&(i+=" bftd-".concat(o)),r&&(i+=" bff-".concat(r)),e&&(i+=e(t)||""),i}},ze=function(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t=e.editorId,n={},ae($,t).forEach(function(e){n[e.inlineStyleName]=e.styleMap}),n);return a()({SUPERSCRIPT:{position:"relative",top:"-8px",fontSize:"11px"},SUBSCRIPT:{position:"relative",bottom:"-8px",fontSize:"11px"}},r,o)},je=function(e,t){return function(n,o){var r,i={},a=t.fontFamilies,l=t.unitExportFn,s=t.customStyleFn;return(r=e.editorId,ae(ee,r)).forEach(function(e){i=e.styleFn?e.styleFn(n,o,i):i}),i=s?s(n,o,i):{},n.forEach(function(e){0===e.indexOf("COLOR-")?i.color="#"+Oe(e):0===e.indexOf("BGCOLOR-")?i.backgroundColor="#"+Oe(e):0===e.indexOf("FONTSIZE-")?i.fontSize=l(Oe(e),"font-size","editor"):0===e.indexOf("LINEHEIGHT-")?i.lineHeight=l(Oe(e),"line-height","editor"):0===e.indexOf("LETTERSPACING-")?i.letterSpacing=l(Oe(e),"letter-spacing","editor"):0===e.indexOf("TEXTINDENT-")?i.textIndent=l(Oe(e),"text-indent","editor"):0===e.indexOf("FONTFAMILY-")&&(i.fontFamily=(a.find(function(t){return t.name.toUpperCase()===Oe(e)})||{}).family||"")}),i}},Ve=function(e){var t=function(e){return ae(Y,e)}(e),n=[].concat(Me,x()(t.filter(function(e){return"entity"===e.type}))),o=t.filter(function(e){return"strategy"===e.type}),r=t.filter(function(e){return"class"===e.type});return new Ae.a([].concat(x()(r.map(function(e){return e.decorator})),[new P.CompositeDecorator(o.map(function(e){return e.decorator})),new P.CompositeDecorator(n.map(function(e){return{strategy:(t=e.decorator.key,function(e,n,o){e.findEntityRanges(function(e){var n=e.getEntity();return null!==n&&o.getEntity(n).getType()===t},n)}),component:e.decorator.component};var t}))]))},_e=(n(53),n(54),n(55),[]),Ke=!1,We=!1,qe=function(e){var t=T.BaseUtils.UniqueIndex();return _e.push({id:t,eventHandler:e}),t},Ge=function(e){_e=_e.filter(function(t){return t.id!==e})};Ke||"object"!==("undefined"==typeof window?"undefined":r()(window))||(window.addEventListener("resize",function(e){clearTimeout(We),We=setTimeout(function(){_e.map(function(t){"function"==typeof t.eventHandler&&t.eventHandler(e)}),We=!1},100)}),Ke=!0);var Je=function(e){function t(){var e,n;d()(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=m()(this,(e=g()(t)).call.apply(e,[this].concat(r))),C()(v()(n),"responsiveResolveId",null),C()(v()(n),"dropDownHandlerElement",null),C()(v()(n),"dropDownContentElement",null),C()(v()(n),"state",{active:!1,offset:0}),C()(v()(n),"fixDropDownPosition",function(){var e=n.props.getContainerNode().getBoundingClientRect(),t=n.dropDownHandlerElement.getBoundingClientRect(),o=n.dropDownContentElement.getBoundingClientRect(),r=0,i=t.right-t.width/2+o.width/2,a=t.left+t.width/2-o.width/2;i=e.right-i,a-=e.left,i<10?r=i-10:a<10&&(r=-1*a+10),r!==n.state.offset&&n.setState({offset:r})}),C()(v()(n),"registerClickEvent",function(e){var t=n.props.autoHide,o=n.state.active;if(n.dropDownContentElement.contains(e.target)||n.dropDownHandlerElement.contains(e.target))return!1;t&&o&&n.hide()}),C()(v()(n),"toggle",function(){n.setState({active:!n.state.active})}),C()(v()(n),"show",function(){n.setState({active:!0})}),C()(v()(n),"hide",function(){n.setState({active:!1})}),n}return k()(t,e),p()(t,[{key:"componentDidMount",value:function(){document&&(document.body.addEventListener("click",this.registerClickEvent),this.responsiveResolveId=qe(this.fixDropDownPosition))}},{key:"componentWillReceiveProps",value:function(e){!this.props.disabled&&e.disabled&&this.hide()}},{key:"componentDidUpdate",value:function(e){!e.active&&this.state.active&&this.fixDropDownPosition()}},{key:"componentWillUnmount",value:function(){document&&(document.body.removeEventListener("click",this.registerClickEvent),Ge(this.responsiveResolveId))}},{key:"render",value:function(){var e=this,t=this.state,n=t.active,o=t.offset,r=this.props,i=r.caption,a=r.htmlCaption,l=r.title,s=r.disabled,c=r.showArrow,d=r.arrowActive,u=r.className,p=r.children;return s&&(n=!1),"light"===r.theme&&(u=" light-theme "+u),I.a.createElement("div",{className:"bf-dropdown "+(n?"active ":"")+(s?"disabled ":"")+u},a?I.a.createElement("button",{type:"button",className:"dropdown-handler","data-title":l,onClick:this.toggle,dangerouslySetInnerHTML:a?{__html:a}:null,ref:function(t){return e.dropDownHandlerElement=t}}):I.a.createElement("button",{type:"button",className:"dropdown-handler","data-title":l,onClick:this.toggle,ref:function(t){return e.dropDownHandlerElement=t}},I.a.createElement("span",null,i),!1!==c?I.a.createElement("i",{className:"bfi-drop-down"}):null),I.a.createElement("div",{className:"dropdown-content",style:{marginLeft:o},ref:function(t){return e.dropDownContentElement=t}},I.a.createElement("i",{style:{marginLeft:-1*o},className:"dropdown-arrow"+(d?" active":"")}),I.a.createElement("div",{className:"dropdown-content-inner"},p)))}}]),t}(I.a.Component),Ye=function(e){return I.a.Fragment?I.a.createElement(I.a.Fragment,null,e.children):I.a.createElement("div",{className:"control-item-group"},e.children)},Qe=function(e){function t(e){var n;return d()(this,t),n=m()(this,g()(t).call(this,e)),C()(v()(n),"dropDownInstance",null),C()(v()(n),"handeKeyDown",function(e){if(13===e.keyCode)return n.handleConfirm(),e.preventDefault(),!1}),C()(v()(n),"handleTnputText",function(e){n.setState({text:e.currentTarget.value})}),C()(v()(n),"handleInputLink",function(e){n.setState({href:e.currentTarget.value})}),C()(v()(n),"setTarget",function(){n.setState({target:"_blank"===n.state.target?"":"_blank"})}),C()(v()(n),"handleCancel",function(){n.dropDownInstance.hide()}),C()(v()(n),"handleUnlink",function(){n.dropDownInstance.hide(),n.props.editor.setValue(T.ContentUtils.toggleSelectionLink(n.props.editorState,!1))}),C()(v()(n),"handleConfirm",function(){var e=n.state,t=e.text,o=e.href,r=e.target,i=e.textSelected,a=n.props.hooks("toggle-link",{href:o,target:r})({href:o,target:r});if(n.dropDownInstance.hide(),n.props.editor.requestFocus(),!1===a)return!1;a&&("string"==typeof a.href&&(o=a.href),"string"==typeof a.target&&(r=a.target)),i?o?n.props.editor.setValue(T.ContentUtils.toggleSelectionLink(n.props.editorState,o,r)):n.props.editor.setValue(T.ContentUtils.toggleSelectionLink(n.props.editorState,!1)):n.props.editor.setValue(T.ContentUtils.insertText(n.props.editorState,t||o,null,{type:"LINK",data:{href:o,target:r}}))}),n.state={text:"",href:"",target:e.defaultLinkTarget||"",textSelected:!1},n}return k()(t,e),p()(t,[{key:"componentWillReceiveProps",value:function(e){var t=T.ContentUtils.getSelectionEntityData(e.editorState,"LINK"),n=t.href,o=t.target,r=!T.ContentUtils.isSelectionCollapsed(this.props.editorState)&&"atomic"!==T.ContentUtils.getSelectionBlockType(this.props.editorState),i="";r&&(i=T.ContentUtils.getSelectionText(this.props.editorState)),this.setState({textSelected:r,text:i,href:n||"",target:void 0===o?e.defaultLinkTarget||"":o||""})}},{key:"render",value:function(){var e=this,t=this.props.allowInsertLinkText,n=this.state,o=n.text,r=n.href,i=n.target,a=n.textSelected,l=I.a.createElement("i",{className:"bfi-link"});return I.a.createElement(Ye,null,I.a.createElement(Je,{key:0,caption:l,title:this.props.language.controls.link,autoHide:!0,getContainerNode:this.props.getContainerNode,showArrow:!1,ref:function(t){return e.dropDownInstance=t},className:"control-item dropdown link-editor-dropdown"},I.a.createElement("div",{className:"bf-link-editor"},t?I.a.createElement("div",{className:"input-group"},I.a.createElement("input",{type:"text",value:o,spellCheck:!1,disabled:a,placeholder:this.props.language.linkEditor.textInputPlaceHolder,onKeyDown:this.handeKeyDown,onChange:this.handleTnputText})):null,I.a.createElement("div",{className:"input-group"},I.a.createElement("input",{type:"text",value:r,spellCheck:!1,placeholder:this.props.language.linkEditor.linkInputPlaceHolder,onKeyDown:this.handeKeyDown,onChange:this.handleInputLink})),I.a.createElement("div",{className:"switch-group"},I.a.createElement(ge,{active:"_blank"===i,onClick:this.setTarget}),I.a.createElement("label",null,this.props.language.linkEditor.openInNewWindow)),I.a.createElement("div",{className:"buttons"},I.a.createElement("a",{onClick:this.handleUnlink,className:"primary button-remove-link pull-left",href:"javascript:void(0);"},I.a.createElement("i",{className:"bfi-close"}),I.a.createElement("span",null,this.props.language.linkEditor.removeLink)),I.a.createElement("button",{type:"button",onClick:this.handleConfirm,className:"primary pull-right"},this.props.language.base.confirm),I.a.createElement("button",{type:"button",onClick:this.handleCancel,className:"default pull-right"},this.props.language.base.cancel)))),I.a.createElement("button",{key:1,type:"button","data-title":this.props.language.controls.unlink,className:"control-item button",onClick:this.handleUnlink,disabled:!a||!r},I.a.createElement("i",{className:"bfi-link-off"})))}}]),t}(I.a.Component),Xe=(n(56),function(e){var t,n=null,o=(t=e.language,[{key:"header-one",title:t.controls.header+" 1",text:I.a.createElement("h1",null,t.controls.header," 1"),type:"block-type",command:"header-one"},{key:"header-two",title:t.controls.header+" 2",text:I.a.createElement("h2",null,t.controls.header," 2"),type:"block-type",command:"header-two"},{key:"header-three",title:t.controls.header+" 3",text:I.a.createElement("h3",null,t.controls.header," 3"),type:"block-type",command:"header-three"},{key:"header-four",title:t.controls.header+" 4",text:I.a.createElement("h4",null,t.controls.header," 4"),type:"block-type",command:"header-four"},{key:"header-five",title:t.controls.header+" 5",text:I.a.createElement("h5",null,t.controls.header," 5"),type:"block-type",command:"header-five"},{key:"header-six",title:t.controls.header+" 6",text:I.a.createElement("h6",null,t.controls.header," 6"),type:"block-type",command:"header-six"},{key:"unstyled",title:t.controls.normal,text:t.controls.normal,type:"block-type",command:"unstyled"}]).filter(function(t){return-1!==e.headings.indexOf(t.key)}),r=o.findIndex(function(t){return t.command===e.current}),i=o[r]?o[r].title:e.language.controls.normal;return I.a.createElement(Je,{caption:i,autoHide:!0,getContainerNode:e.getContainerNode,title:e.language.controls.headings,arrowActive:0===r,ref:function(e){return n=e},className:"control-item dropdown headings-dropdown"},I.a.createElement("ul",{className:"menu"},o.map(function(t,o){var r=e.current===t.command;return I.a.createElement("li",{key:o,className:"menu-item"+(r?" active":""),onClick:function(){e.onChange(t.command,t.type),n.hide()}},t.text)})))}),Ze=(n(57),n(58),function(e){return I.a.createElement("div",{className:"bf-colors-wrap"},I.a.createElement("ul",{className:"bf-colors"},e.presetColors.map(function(t,n){var o=e.color&&t.toLowerCase()===e.color.toLowerCase()?"color-item active":"color-item";return I.a.createElement("li",{key:n,title:t,className:o,style:{color:t},"data-color":t.replace("#",""),onClick:function(t){e.onChange(t.currentTarget.dataset.color,!0)}})})))}),$e=function(e){function t(){var e,n;d()(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=m()(this,(e=g()(t)).call.apply(e,[this].concat(r))),C()(v()(n),"state",{colorType:"color"}),C()(v()(n),"switchColorType",function(e){var t=e.currentTarget;n.setState({colorType:t.dataset.type})}),C()(v()(n),"toggleColor",function(e,t){if(e){var o=n.props.hooks("toggle-text-".concat(n.state.colorType),e)(e);if(!1===o)return!1;"string"==typeof o&&(e=o),"color"===n.state.colorType?n.props.editor.setValue(T.ContentUtils.toggleSelectionColor(n.props.editorState,e)):n.props.editor.setValue(T.ContentUtils.toggleSelectionBackgroundColor(n.props.editorState,e))}t&&(n.dropDownInstance.hide(),n.props.editor.requestFocus())}),n}return k()(t,e),p()(t,[{key:"render",value:function(){var e=this,t={},n=null,o=this.state.colorType;this.props.editorState.getCurrentInlineStyle().toJS().forEach(function(e){0===e.indexOf("COLOR-")&&(t.color="#"+e.split("-")[1],"color"===o&&(n=t.color)),0===e.indexOf("BGCOLOR-")&&(t.backgroundColor="#"+e.split("-")[1],"background-color"===o&&(n=t.backgroundColor))});var r=I.a.createElement("i",{style:t,className:"bfi-text-color"},I.a.createElement("span",{className:"path1"}),I.a.createElement("span",{className:"path2"})),i=this.props.colorPicker||Ze;return I.a.createElement(Je,{caption:r,title:this.props.language.controls.color,showArrow:!1,autoHide:this.props.autoHide,theme:this.props.theme,getContainerNode:this.props.getContainerNode,ref:function(t){return e.dropDownInstance=t},className:"control-item dropdown text-color-dropdown"},I.a.createElement("div",{className:"bf-text-color-picker-wrap"},I.a.createElement("div",{className:"bf-color-switch-buttons",style:this.props.enableBackgroundColor?{}:{display:"none"}},I.a.createElement("button",{type:"button","data-type":"color",className:"color"===o?"active":"",onClick:this.switchColorType},this.props.language.controls.textColor),I.a.createElement("button",{type:"button","data-type":"background-color",className:"background-color"===o?"active":"",onClick:this.switchColorType},this.props.language.controls.backgroundColor)),I.a.createElement(i,{width:200,color:n,disableAlpha:!0,presetColors:this.props.colors,onChange:this.toggleColor})))}}]),t}(I.a.Component),et=(n(59),function(e){var t=null,n=null,o=null;return e.fontSizes.find(function(o){return!!T.ContentUtils.selectionHasInlineStyle(e.editorState,"FONTSIZE-"+o)&&(t=o,n=o,!0)}),I.a.createElement(Je,{autoHide:!0,caption:t||e.defaultCaption,getContainerNode:e.getContainerNode,title:e.language.controls.fontSize,ref:function(e){return o=e},className:"control-item dropdown bf-font-size-dropdown"},I.a.createElement("ul",{className:"bf-font-sizes"},e.fontSizes.map(function(t,r){return I.a.createElement("li",{key:r,className:t===n?"active":null,"data-size":t,onClick:function(t){(function(e,t){var n=e.currentTarget.dataset.size,o=t.hooks("toggle-font-size",n)(n);if(!1===o)return!1;isNaN(n)||(n=o),t.editor.setValue(T.ContentUtils.toggleSelectionFontSize(t.editorState,n)),t.editor.requestFocus()})(t,e),o.hide()}},t)})))}),tt=(n(60),function(e){var t=null,n=null,o=null;return e.lineHeights.find(function(o){return!!T.ContentUtils.selectionHasInlineStyle(e.editorState,"LINEHEIGHT-"+o)&&(t=o,n=o,!0)}),I.a.createElement(Je,{autoHide:!0,caption:t||e.defaultCaption,getContainerNode:e.getContainerNode,title:e.language.controls.lineHeight,ref:function(e){return o=e},className:"control-item dropdown bf-line-height-dropdown"},I.a.createElement("ul",{className:"bf-line-heights"},e.lineHeights.map(function(t,r){return I.a.createElement("li",{key:r,className:t===n?"active":null,"data-size":t,onClick:function(t){(function(e,t){var n=e.currentTarget.dataset.size,o=t.hooks("toggle-line-height",n)(n);if(!1===o)return!1;isNaN(o)||(n=o),t.editor.setValue(T.ContentUtils.toggleSelectionLineHeight(t.editorState,n)),t.editor.requestFocus()})(t,e),o.hide()}},t)})))}),nt=(n(61),function(e){var t=null,n=null,o=null;return e.fontFamilies.find(function(o,r){return!!T.ContentUtils.selectionHasInlineStyle(e.editorState,"FONTFAMILY-"+o.name)&&(t=o.name,n=r,!0)}),I.a.createElement(Je,{caption:t||e.defaultCaption,getContainerNode:e.getContainerNode,title:e.language.controls.fontFamily,autoHide:!0,arrowActive:0===n,ref:function(e){return o=e},className:"control-item dropdown font-family-dropdown"},I.a.createElement("ul",{className:"menu"},e.fontFamilies.map(function(t,r){return I.a.createElement("li",{key:r,className:"menu-item "+(r===n?"active":""),"data-name":t.name,onClick:function(t){(function(e,t){var n=e.currentTarget.dataset.name,o=t.hooks("toggle-font-family",n)(n,t.fontFamilies);if(!1===o)return!1;"string"==typeof o&&(n=o),t.editor.setValue(T.ContentUtils.toggleSelectionFontFamily(t.editorState,n)),t.editor.requestFocus()})(t,e),o.hide()}},I.a.createElement("span",{style:{fontFamily:t.family}},t.name))})))}),ot=function(e){function t(){var e,n;d()(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=m()(this,(e=g()(t)).call.apply(e,[this].concat(r))),C()(v()(n),"state",{currentAlignment:void 0}),C()(v()(n),"setAlignment",function(e){var t=e.currentTarget.dataset.alignment,o=n.props.hooks("toggle-text-alignment",t)(t);n.props.textAligns.indexOf(o)>-1&&(t=o),n.props.editor.setValue(T.ContentUtils.toggleSelectionAlignment(n.props.editorState,t)),n.props.editor.requestFocus()}),n}return k()(t,e),p()(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({currentAlignment:T.ContentUtils.getSelectionBlockData(e.editorState,"textAlign")})}},{key:"render",value:function(){var e=this,t=[this.props.language.controls.alignLeft,this.props.language.controls.alignCenter,this.props.language.controls.alignRight,this.props.language.controls.alignJustify];return I.a.createElement(Ye,null,this.props.textAligns.map(function(n,o){return I.a.createElement("button",{type:"button",key:o,"data-title":t[o],"data-alignment":n,className:"control-item button "+(n===e.state.currentAlignment?"active":null),onClick:e.setAlignment},I.a.createElement("i",{className:"bfi-align-"+n}))}))}}]),t}(I.a.Component),rt=(n(62),function(e){return I.a.createElement(Je,{caption:e.defaultCaption,autoHide:!0,showArrow:!1,getContainerNode:e.getContainerNode,title:e.language.controls.emoji,className:"control-item dropdown bf-emoji-dropdown"},I.a.createElement("div",{className:"bf-emojis-wrap"},I.a.createElement("ul",{className:"bf-emojis"},e.emojis.map(function(t,n){return I.a.createElement("li",{key:n,"data-emoji":t,onClick:function(t){return function(e,t){var n=e.currentTarget.dataset.emoji,o=t.hooks("insert-emoji",n)(n);if(!1===o)return!1;"string"==typeof o&&(n=o),t.editor.setValue(T.ContentUtils.insertText(t.editorState,n)),t.editor.requestFocus()}(t,e)}},t)}))))}),it=(n(63),function(e){var t=null,n=null,o=null;return e.letterSpacings.find(function(o){return!!T.ContentUtils.selectionHasInlineStyle(e.editorState,"LETTERSPACING-"+o)&&(t=o,n=o,!0)}),I.a.createElement(Je,{autoHide:!0,caption:t||e.defaultCaption,getContainerNode:e.getContainerNode,title:e.language.controls.letterSpacing,ref:function(e){return o=e},className:"control-item dropdown bf-letter-spacing-dropdown"},I.a.createElement("ul",{className:"bf-letter-spacings"},e.letterSpacings.map(function(t,r){return I.a.createElement("li",{key:r,className:t===n?"active":null,"data-size":t,onClick:function(t){(function(e,t){var n=e.currentTarget.dataset.size,o=t.hooks("toggle-letter-spacing",n)(n);if(!1===o)return!1;isNaN(o)||(n=o),t.editor.setValue(T.ContentUtils.toggleSelectionLetterSpacing(t.editorState,n)),t.editor.requestFocus()})(t,e),o.hide()}},t)})))}),at=function(e){function t(){var e,n;d()(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=m()(this,(e=g()(t)).call.apply(e,[this].concat(r))),C()(v()(n),"state",{currentIndent:0}),C()(v()(n),"increaseIndent",function(){n.props.editor.setValue(T.ContentUtils.increaseSelectionIndent(n.props.editorState)),n.props.editor.requestFocus()}),C()(v()(n),"decreaseIndent",function(){n.props.editor.setValue(T.ContentUtils.decreaseSelectionIndent(n.props.editorState)),n.props.editor.requestFocus()}),n}return k()(t,e),p()(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({currentIndent:T.ContentUtils.getSelectionBlockData(e.editorState,"textIndent")||0})}},{key:"render",value:function(){var e=this.state.currentIndent,t=this.props.language;return I.a.createElement(Ye,null,I.a.createElement("button",{key:0,type:"button","data-title":t.controls.increaseIndent,disabled:e>=6,className:"control-item button button-indent-increase".concat(e>0&&e<6?" active":""),onClick:this.increaseIndent},I.a.createElement("i",{className:"bfi-indent-increase"})),I.a.createElement("button",{key:1,type:"button","data-title":t.controls.decreaseIndent,disabled:e<=0,className:"control-item button button-indent-decrease",onClick:this.decreaseIndent},I.a.createElement("i",{className:"bfi-indent-decrease"})))}}]),t}(I.a.Component),lt={"inline-style":"toggle-inline-style","block-type":"change-block-type","editor-method":"exec-editor-command"},st={superscript:"subscript",subscript:"superscript"},ct=function(e){function t(){var e,n;d()(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=m()(this,(e=g()(t)).call.apply(e,[this].concat(r))),C()(v()(n),"allControls",[]),C()(v()(n),"mediaLibiraryModal",null),C()(v()(n),"extendedModals",{}),C()(v()(n),"openBraftFinder",function(){if(!n.props.braftFinder||!n.props.braftFinder.ReactComponent)return!1;if(!1===n.props.hooks("open-braft-finder")())return!1;var e=n.props.media,t=n.props.braftFinder.ReactComponent;n.mediaLibiraryModal=xe({title:n.props.language.controls.mediaLibirary,language:n.props.language,width:640,showFooter:!1,component:I.a.createElement(t,{accepts:e.accepts,onCancel:n.closeBraftFinder,onInsert:n.insertMedias,onChange:e.onChange,externals:e.externals,onBeforeSelect:n.bindBraftFinderHook("select-medias"),onBeforeDeselect:n.bindBraftFinderHook("deselect-medias"),onBeforeRemove:n.bindBraftFinderHook("remove-medias"),onBeforeInsert:n.bindBraftFinderHook("insert-medias"),onFileSelect:n.bindBraftFinderHook("select-files")})})}),C()(v()(n),"bindBraftFinderHook",function(e){return function(){return n.props.hooks(e,arguments.length<=0?void 0:arguments[0]).apply(void 0,arguments)}}),C()(v()(n),"insertMedias",function(e){n.props.editor.setValue(T.ContentUtils.insertMedias(n.props.editorState,e)),n.props.editor.requestFocus(),n.props.media.onInsert&&n.props.media.onInsert(e),n.closeBraftFinder()}),C()(v()(n),"closeBraftFinder",function(){n.props.media.onCancel&&n.props.media.onCancel(),n.mediaLibiraryModal&&n.mediaLibiraryModal.close()}),n}return k()(t,e),p()(t,[{key:"componentDidUpdate",value:function(){var e=this,t=this.props.language;this.allControls.forEach(function(n){"modal"===n.type&&n.modal&&n.modal.id&&e.extendedModals[n.modal.id]&&e.extendedModals[n.modal.id].update(a()({},n.modal,{language:t}))})}},{key:"getControlItemClassName",value:function(e){var t="control-item button",n=e.type,o=e.command;return"inline-style"===n&&T.ContentUtils.selectionHasInlineStyle(this.props.editorState,o)?t+=" active":"block-type"===n&&T.ContentUtils.getSelectionBlockType(this.props.editorState)===o?t+=" active":"entity"===n&&T.ContentUtils.getSelectionEntityType(this.props.editorState)===o&&(t+=" active"),t}},{key:"applyControl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this.props.hooks(lt[t]||t,e)(e),r=this.props.editorState;if(!1===o)return!1;if("string"==typeof o&&(e=o),"inline-style"===t){var i=st[e];i&&T.ContentUtils.selectionHasInlineStyle(r,i)&&(r=T.ContentUtils.toggleSelectionInlineStyle(r,i)),this.props.editor.setValue(T.ContentUtils.toggleSelectionInlineStyle(r,e))}else"block-type"===t?this.props.editor.setValue(T.ContentUtils.toggleSelectionBlockType(r,e)):"entity"===t?this.props.editor.setValue(T.ContentUtils.toggleSelectionEntity(r,{type:e,mutability:n.mutability||"MUTABLE",data:n.data||{}})):"editor-method"===t&&this.props.editor[e]&&this.props.editor[e]()}},{key:"render",value:function(){var e=this,t=this.props,n=t.editor,o=t.editorId,r=t.editorState,i=t.className,l=t.style,s=t.controls,c=t.media,d=t.extendControls,u=t.language,p=t.hooks,f=t.colors,m=t.colorPicker,h=t.colorPickerTheme,g=t.colorPickerAutoHide,y=t.headings,v=t.fontSizes,b=t.fontFamilies,k=t.emojis,E=t.getContainerNode,C=t.lineHeights,S=t.letterSpacings,x=t.textAligns,w=t.textBackgroundColor,N=t.allowInsertLinkText,F=t.defaultLinkTarget,L=T.ContentUtils.getSelectionBlockType(r),P={editor:n,editorId:o,editorState:r,language:u,getContainerNode:E,hooks:p},O=[],D=function(e,t){return[{key:"undo",title:e.controls.undo,text:I.a.createElement("i",{className:"bfi-undo"}),type:"editor-method",command:"undo"},{key:"redo",title:e.controls.redo,text:I.a.createElement("i",{className:"bfi-redo"}),type:"editor-method",command:"redo"},{key:"remove-styles",title:e.controls.removeStyles,text:I.a.createElement("i",{className:"bfi-format_clear"}),type:"editor-method",command:"removeSelectionInlineStyles"},{key:"hr",title:e.controls.hr,text:I.a.createElement("i",{className:"bfi-hr"}),type:"editor-method",command:"insertHorizontalLine"},{key:"bold",title:e.controls.bold,text:I.a.createElement("i",{className:"bfi-bold"}),type:"inline-style",command:"bold"},{key:"italic",title:e.controls.italic,text:I.a.createElement("i",{className:"bfi-italic"}),type:"inline-style",command:"italic"},{key:"underline",title:e.controls.underline,text:I.a.createElement("i",{className:"bfi-underlined"}),type:"inline-style",command:"underline"},{key:"strike-through",title:e.controls.strikeThrough,text:I.a.createElement("i",{className:"bfi-strikethrough"}),type:"inline-style",command:"strikethrough"},{key:"superscript",title:e.controls.superScript,text:I.a.createElement("i",{className:"bfi-superscript"}),type:"inline-style",command:"superscript"},{key:"subscript",title:e.controls.subScript,text:I.a.createElement("i",{className:"bfi-subscript"}),type:"inline-style",command:"subscript"},{key:"headings",title:e.controls.headings,type:"headings"},{key:"blockquote",title:e.controls.blockQuote,text:I.a.createElement("i",{className:"bfi-quote"}),type:"block-type",command:"blockquote"},{key:"code",title:e.controls.code,text:I.a.createElement("i",{className:"bfi-code"}),type:"block-type",command:"code-block"},{key:"list-ul",title:e.controls.unorderedList,text:I.a.createElement("i",{className:"bfi-list"}),type:"block-type",command:"unordered-list-item"},{key:"list-ol",title:e.controls.orderedList,text:I.a.createElement("i",{className:"bfi-list-numbered"}),type:"block-type",command:"ordered-list-item"},{key:"link",title:e.controls.link,type:"link"},{key:"text-color",title:e.controls.color,type:"text-color"},{key:"line-height",title:e.controls.lineHeight,type:"line-height"},{key:"letter-spacing",title:e.controls.letterSpacing,type:"letter-spacing"},{key:"text-indent",title:e.controls.textIndent,type:"text-indent"},{key:"font-size",title:e.controls.fontSize,type:"font-size"},{key:"font-family",title:e.controls.fontFamily,type:"font-family"},{key:"text-align",title:e.controls.textAlign,type:"text-align"},{key:"media",title:e.controls.media,text:I.a.createElement("i",{className:"bfi-media"}),type:"media"},{key:"emoji",title:e.controls.emoji,text:I.a.createElement("i",{className:"bfi-emoji"}),type:"emoji"},{key:"clear",title:e.controls.clear,text:I.a.createElement("i",{className:"bfi-clear_all"}),type:"editor-method",command:"clearEditorContent"},{key:"fullscreen",title:t.state.isFullscreen?e.controls.exitFullscreen:e.controls.fullscreen,text:I.a.createElement("i",{className:t.state.isFullscreen?"bfi-fullscreen-exit":"bfi-fullscreen"}),type:"editor-method",command:"toggleFullscreen"},{key:"modal",type:"modal"},{key:"button",type:"button"},{key:"dropdown",type:"dropdown"},{key:"component",type:"component"}]}(u,n),A=function(e){return ae(J,e)}(o),H=function(e,t,n,o){return n=n.map(function(t){return"function"==typeof t?t(e):t}),o=o.map(function(t){return"function"==typeof t?t(e):t}),0===n.length&&0===o.length?t:t.map(function(e){return o.find(function(t){return t.replace===(e.key||e)})||n.find(function(t){return t.replace===(e.key||e)})||e}).concat(n.length?"separator":"").concat(n.filter(function(e){return!e.replace})).concat(o.filter(function(e){return"string"==typeof e||!e.replace}))}(P,s,A,d);return this.allControls=H,I.a.createElement("div",{className:"bf-controlbar ".concat(i||""),style:l,onMouseDown:this.preventDefault},H.map(function(t,n){var o="string"==typeof t?t:t.key;if("string"!=typeof o)return null;if(O.indexOf(o)>-1)return null;if("separator"===o.toLowerCase())return I.a.createElement("span",{key:n,className:"separator-line"});var i=D.find(function(e){return e.key.toLowerCase()===o.toLowerCase()});if("string"!=typeof t&&(i=a()({},i,t)),!i)return null;if(O.push(o),"headings"===i.type)return I.a.createElement(Xe,ke()({key:n,headings:y,current:L,onChange:function(t){return e.applyControl(t,"block-type")}},P));if("text-color"===i.type)return I.a.createElement($e,ke()({key:n,colors:f,colorPicker:m,theme:h,autoHide:g,enableBackgroundColor:w},P));if("font-size"===i.type)return I.a.createElement(et,ke()({key:n,fontSizes:v,defaultCaption:i.title},P));if("line-height"===i.type)return I.a.createElement(tt,ke()({key:n,lineHeights:C,defaultCaption:i.title},P));if("letter-spacing"===i.type)return I.a.createElement(it,ke()({key:n,letterSpacings:S,defaultCaption:i.title},P));if("text-indent"===i.type)return I.a.createElement(at,ke()({key:n,defaultCaption:i.title},P));if("font-family"===i.type)return I.a.createElement(nt,ke()({key:n,fontFamilies:b,defaultCaption:i.title},P));if("emoji"===i.type)return I.a.createElement(rt,ke()({key:n,emojis:k,defaultCaption:i.text},P));if("link"===i.type)return I.a.createElement(Qe,ke()({key:n,defaultLinkTarget:F,allowInsertLinkText:N},P));if("text-align"===i.type)return I.a.createElement(ot,ke()({key:n,textAligns:x},P));if("media"===i.type)return c.image||c.video||c.audio?I.a.createElement("button",{type:"button",key:n,"data-title":i.title,disabled:i.disabled,className:"control-item media button",onClick:e.openBraftFinder},i.text):null;if("dropdown"===i.type)return I.a.createElement(Je,ke()({key:n,className:"control-item extend-control-item dropdown ".concat(i.className||""),caption:i.text,htmlCaption:i.html,showArrow:i.showArrow,title:i.title,arrowActive:i.arrowActive,theme:i.theme,autoHide:i.autoHide,disabled:i.disabled,ref:i.ref},P),i.component);if("modal"===i.type)return I.a.createElement("button",{type:"button",key:n,"data-title":i.title,disabled:i.disabled,className:"control-item extend-control-item button ".concat(i.className||""),dangerouslySetInnerHTML:i.html?{__html:i.html}:null,onClick:function(t){i.modal&&i.modal.id&&(e.extendedModals[i.modal.id]?(e.extendedModals[i.modal.id].active=!0,e.extendedModals[i.modal.id].update(a()({},i.modal,{language:u}))):(e.extendedModals[i.modal.id]=xe(a()({},i.modal,{language:u})),i.modal.onCreate&&i.modal.onCreate(e.extendedModals[i.modal.id]))),i.onClick&&i.onClick(t)}},i.html?null:i.text);if("component"===i.type)return I.a.createElement("div",{key:n,className:"component-wrapper ".concat(i.className||"")},i.component);if("button"===i.type)return I.a.createElement("button",{type:"button",key:n,"data-title":i.title,disabled:i.disabled,className:"control-item button ".concat(i.className||""),dangerouslySetInnerHTML:i.html?{__html:i.html}:null,onClick:function(e){return i.onClick&&i.onClick(e)}},i.html?null:i.text);if(i){var l=!1;return"undo"===i.command?l=0===r.getUndoStack().size:"redo"===i.command&&(l=0===r.getRedoStack().size),I.a.createElement("button",{type:"button",key:n,disabled:l,"data-title":i.title,className:e.getControlItemClassName({type:i.type,command:i.command}),onClick:function(){return e.applyControl(i.command,i.type,i.data)}},i.text)}}))}},{key:"preventDefault",value:function(e){var t=e.target.tagName.toLowerCase();"input"===t||"label"===t||e.preventDefault()}}]),t}(I.a.Component),dt=function(e,t){return e.filter(function(e){return!t.find(function(t){return t.toLowerCase()===e.toLowerCase()})}).filter(function(e,t,n){return n.indexOf(e)===t})},ut=function(e,t){return[].concat(x()(e.controls),x()(e.extendControls)).find(function(e){return e===t||e.key===t})&&-1===e.excludeControls.indexOf(t)},pt=function(e){var t=e.editorId||e.id,n=a()({},A.converts,e.converts,{fontFamilies:e.fontFamilies});return n.styleImportFn=le(n.styleImportFn,t),n.styleExportFn=se(n.styleExportFn,t),n.entityImportFn=ce(n.entityImportFn,t),n.entityExportFn=de(n.entityExportFn,t),n.blockImportFn=ue(n.blockImportFn,t),n.blockExportFn=pe(n.blockExportFn,t),n},ft=function(e){function t(e){var n;d()(this,t),n=m()(this,g()(t).call(this,e)),C()(v()(n),"onChange",function(e,t){e instanceof P.EditorState||(e=P.EditorState.set(e,{decorator:n.editorDecorators})),e.convertOptions||e.setConvertOptions(pt(n.editorProps)),n.setState({editorState:e},function(){n.props.onChange&&n.props.onChange(e),t&&t(e)})}),C()(v()(n),"getDraftInstance",function(){return n.draftInstance}),C()(v()(n),"getFinderInstance",function(){return n.braftFinder}),C()(v()(n),"getValue",function(){return n.state.editorState}),C()(v()(n),"setValue",function(e,t){return n.onChange(e,t)}),C()(v()(n),"forceRender",function(){var e=n.state.editorState.getSelection();n.setValue(P.EditorState.set(n.state.editorState,{decorator:n.editorDecorators}),function(){n.setValue(P.EditorState.forceSelection(n.state.editorState,e))})}),C()(v()(n),"onTab",function(e){"handled"===B("tab",n.state.editorState,v()(n))&&e.preventDefault(),n.editorProps.onTab&&n.editorProps.onTab(e)}),C()(v()(n),"onFocus",function(){n.isFocused=!0,n.editorProps.onFocus&&n.editorProps.onFocus(n.state.editorState)}),C()(v()(n),"onBlur",function(){n.isFocused=!1,n.editorProps.onBlur&&n.editorProps.onBlur(n.state.editorState)}),C()(v()(n),"requestFocus",function(){setTimeout(function(){return n.draftInstance.focus()},0)}),C()(v()(n),"handleKeyCommand",function(e,t){return B(e,t,v()(n))}),C()(v()(n),"handleReturn",function(e,t){return U(e,t,v()(n))}),C()(v()(n),"handleBeforeInput",function(e,t){return z(e,t,v()(n))}),C()(v()(n),"handleDrop",function(e,t){return V(e,t,v()(n))}),C()(v()(n),"handleDroppedFiles",function(e,t){return K(e,t,v()(n))}),C()(v()(n),"handlePastedFiles",function(e){return W(e,v()(n))}),C()(v()(n),"handleCopyContent",function(e){return q(e,v()(n))}),C()(v()(n),"handlePastedText",function(e,t,o){return G(e,t,o,v()(n))}),C()(v()(n),"handleCompositionStart",function(e){return j(e,v()(n))}),C()(v()(n),"undo",function(){n.setValue(T.ContentUtils.undo(n.state.editorState))}),C()(v()(n),"redo",function(){n.setValue(T.ContentUtils.redo(n.state.editorState))}),C()(v()(n),"removeSelectionInlineStyles",function(){n.setValue(T.ContentUtils.removeSelectionInlineStyles(n.state.editorState))}),C()(v()(n),"insertHorizontalLine",function(){n.setValue(T.ContentUtils.insertHorizontalLine(n.state.editorState))}),C()(v()(n),"clearEditorContent",function(){n.setValue(T.ContentUtils.clear(n.state.editorState),function(e){n.setValue(T.ContentUtils.toggleSelectionIndent(e,0))})}),C()(v()(n),"toggleFullscreen",function(e){n.setState({isFullscreen:void 0!==e?e:!n.state.isFullscreen},function(){n.editorProps.onFullscreen&&n.editorProps.onFullscreen(n.state.isFullscreen)})}),C()(v()(n),"setEditorContainerNode",function(e){n.containerNode=e}),n.editorProps=n.getEditorProps(e),n.editorDecorators=Ve(n.editorProps.editorId||n.editorProps.id),n.isFocused=!1,n.isLiving=!1,n.braftFinder=null,n.valueInitialized=!(!n.props.defaultValue&&!n.props.value);var o=(n.props.defaultValue||n.props.value)instanceof P.EditorState?n.props.defaultValue||n.props.value:P.EditorState.createEmpty(n.editorDecorators);o.setConvertOptions(pt(n.editorProps));var r=[];if(T.ContentUtils.isEditorState(o)){var i=T.ColorUtils.detectColorsFromDraftState(o.toRAW(!0));o.setConvertOptions(pt(n.editorProps)),r=dt(i,n.editorProps.colors)}return n.state={tempColors:r,editorState:o,isFullscreen:!1,draftProps:{}},n.containerNode=null,n}return k()(t,e),p()(t,[{key:"getEditorProps",value:function(e){var t,n=this,o=e=e||this.props,r=(o.value,o.defaultValue,o.onChange,s()(o,["value","defaultValue","onChange"])),i=(t=r.editorId||r.id,ae(Q,t));if(0===i.length)return r;var a=Object(O.Map)(r);return i.forEach(function(e){a=a.merge(Object(O.Map)(e(a.toJS(),n)||{}))}),a.toJS()}},{key:"componentWillMount",value:function(){if(ut(this.editorProps,"media")){var e=this.editorProps,t=e.language,n=e.media,o=a()({},A.media,n),r=o.uploadFn,i=o.validateFn,l=o.items;this.braftFinder=new L.a({items:l,language:t,uploader:r,validator:i}),this.forceUpdate()}}},{key:"componentDidMount",value:function(){this.isLiving=!0}},{key:"componentDidUpdate",value:function(e,t){t.editorState!==this.state.editorState&&this.state.editorState.setConvertOptions(pt(this.editorProps))}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.editorProps=this.getEditorProps(e);var n,o=e.value,r=this.editorProps,i=r.media,l=r.language,s=this.getEditorProps();if(!ut(s,"media")&&ut(this.editorProps,"media")&&!this.braftFinder){var c=a()({},A.media,i),d=c.uploadFn,u=c.validateFn,p=c.items;this.braftFinder=new L.a({items:p,language:l,uploader:d,validator:u}),this.forceUpdate()}if(i&&i.items&&this.braftFinder&&this.braftFinder.setItems(i.items),!this.valueInitialized&&void 0===this.props.defaultValue&&T.ContentUtils.isEditorState(e.defaultValue)?n=e.defaultValue:T.ContentUtils.isEditorState(o)&&(n=o),n)if(n&&n!==this.state.editorState){var f=T.ColorUtils.detectColorsFromDraftState(n.toRAW(!0));n.setConvertOptions(pt(this.editorProps)),this.setState({tempColors:dt([].concat(x()(this.state.tempColors),x()(f)),s.colors),editorState:n},function(){t.props.onChange&&t.props.onChange(n)})}else this.setState({editorState:n})}},{key:"componentWillUnmount",value:function(){this.isLiving=!1,this.controlBarInstance&&this.controlBarInstance.closeBraftFinder()}},{key:"lockOrUnlockEditor",value:function(e){this.setState({editorLocked:e})}},{key:"render",value:function(){var e=this,t=this.editorProps,n=t.id,o=t.editorId,r=t.controls,i=t.excludeControls,l=t.extendControls,s=t.readOnly,c=t.disabled,d=t.media,u=t.language,p=t.colors,f=t.colorPicker,m=t.colorPickerTheme,h=t.colorPickerAutoHide,g=t.hooks,y=t.fontSizes,v=t.fontFamilies,b=t.emojis,k=t.placeholder,E=t.fixPlaceholder,C=t.headings,S=t.imageControls,w=t.imageResizable,F=t.lineHeights,L=t.letterSpacings,T=t.textAligns,O=t.textBackgroundColor,D=t.allowInsertLinkText,H=t.defaultLinkTarget,M=t.extendAtomics,R=t.className,B=t.style,U=t.controlBarClassName,z=t.controlBarStyle,j=t.contentClassName,V=t.contentStyle,_=t.stripPastedStyles,K=t.componentBelowControlBar,W=this.state,q=W.isFullscreen,G=W.editorState;o=o||n,g=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[t]||function(){return n}}}(g),r=r.filter(function(e){return-1===i.indexOf(e)}),u=("function"==typeof u?u(N,"braft-editor"):N[u])||N[A.language];var J=d&&d.externals?a()({},A.media.externals,d.externals):A.media.externals,Y=d&&d.accepts?a()({},A.media.accepts,d.accepts):A.media.accepts;(d=a()({},A.media,d,{externalMedias:J,accepts:Y})).uploadFn||(d.video=!1,d.audio=!1);var Q,X={editor:this,editorState:G,braftFinder:this.braftFinder,ref:function(t){return e.controlBarInstance=t},getContainerNode:function(){return e.containerNode},className:U,style:z,colors:[].concat(x()(p),x()(this.state.tempColors)),colorPicker:f,colorPickerTheme:m,colorPickerAutoHide:h,hooks:g,editorId:o,media:d,controls:r,language:u,extendControls:l,headings:C,fontSizes:y,fontFamilies:v,emojis:b,lineHeights:F,letterSpacings:L,textAligns:T,textBackgroundColor:O,allowInsertLinkText:D,defaultLinkTarget:H},Z=G.convertOptions.unitExportFn,$={editor:this,editorId:o,hooks:g,editorState:G,containerNode:this.containerNode,imageControls:S,imageResizable:w,language:u,extendAtomics:M},ee=Be($,this.editorProps.blockRendererFn),te=Re($,this.editorProps.blockRenderMap),ne=Ue(this.editorProps.blockStyleFn),oe=ze($,this.editorProps.customStyleMap),re=je($,{fontFamilies:v,unitExportFn:Z,customStyleFn:this.editorProps.customStyleFn}),ie=(Q=this.editorProps.keyBindingFn,function(e){return 83===e.keyCode&&(P.KeyBindingUtil.hasCommandModifier(e)||P.KeyBindingUtil.isCtrlKeyCommand(e))?"braft-save":Q&&Q(e)||Object(P.getDefaultKeyBinding)(e)}),ae={};(this.state.editorLocked||this.editorProps.disabled||this.editorProps.readOnly||this.editorProps.draftProps.readOnly)&&(ae.readOnly=!0),k&&E&&G.isEmpty()&&"unstyled"!==G.getCurrentContent().getFirstBlock().getType()&&(k="");var le=a()({ref:function(t){e.draftInstance=t},editorState:G,handleKeyCommand:this.handleKeyCommand,handleReturn:this.handleReturn,handleBeforeInput:this.handleBeforeInput,handleDrop:this.handleDrop,handleDroppedFiles:this.handleDroppedFiles,handlePastedText:this.handlePastedText,handlePastedFiles:this.handlePastedFiles,onChange:this.onChange,onTab:this.onTab,onFocus:this.onFocus,onBlur:this.onBlur,blockRenderMap:te,blockRendererFn:ee,blockStyleFn:ne,customStyleMap:oe,customStyleFn:re,keyBindingFn:ie,placeholder:k,stripPastedStyles:_},this.editorProps.draftProps,ae);return I.a.createElement("div",{style:B,ref:this.setEditorContainerNode,className:"bf-container ".concat(R).concat(c?" disabled":"").concat(s?" read-only":"").concat(q?" fullscreen":"")},I.a.createElement(ct,X),K,I.a.createElement("div",{onCompositionStart:this.handleCompositionStart,className:"bf-content ".concat(j),onCopy:this.handleCopyContent,style:V},I.a.createElement(P.Editor,le)))}}]),t}(I.a.Component);C()(ft,"defaultProps",A);var mt=n(14);n.d(t,"EditorState",function(){return P.EditorState}),n.d(t,"getDecorators",function(){return Ve}),P.EditorState.prototype.setConvertOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.convertOptions=e},P.EditorState.prototype.toHTML=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.convertOptions||{};return Object(mt.convertEditorStateToHTML)(this,a()({},t,e))},P.EditorState.prototype.toRAW=function(e){return e?Object(mt.convertEditorStateToRaw)(this):JSON.stringify(Object(mt.convertEditorStateToRaw)(this))},P.EditorState.prototype.toText=function(){return this.getCurrentContent().getPlainText()},P.EditorState.prototype.isEmpty=function(){return!this.getCurrentContent().hasText()},ft.createEditorState=P.EditorState.createFrom=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.unitExportFn=t.unitExportFn||ft.defaultProps.converts.unitExportFn,t.styleImportFn=le(t.styleImportFn,t.editorId),t.entityImportFn=ce(t.entityImportFn,t.editorId),t.blockImportFn=ue(t.blockImportFn,t.editorId);var n=null;if(e instanceof P.EditorState)n=e;else if("object"===r()(e)&&e&&e.blocks&&e.entityMap)n=Object(mt.convertRawToEditorState)(e,Ve(t.editorId));else if("string"==typeof e)try{n=/^(-)?\d+$/.test(e)?Object(mt.convertHTMLToEditorState)(e,Ve(t.editorId),t,"create"):P.EditorState.createFrom(JSON.parse(e),t)}catch(o){n=Object(mt.convertHTMLToEditorState)(e,Ve(t.editorId),t,"create")}else n="number"==typeof e?Object(mt.convertHTMLToEditorState)(e.toLocaleString().replace(/,/g,""),Ve(t.editorId),t,"create"):P.EditorState.createEmpty(Ve(t.editorId));return t.styleExportFn=se(t.styleExportFn,t.editorId),t.entityExportFn=de(t.entityExportFn,t.editorId),t.blockExportFn=pe(t.blockExportFn,t.editorId),n.setConvertOptions(t),n};var ht;t.default=((ht=ft).use=fe,ht)},function(e,t){},,function(e,t){},,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){}])});